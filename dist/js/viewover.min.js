"use strict";var _settings=_interopRequireDefault(require("./utils/settings.js")),_applyViewoverOnDoc=require("./document/applyViewoverOnDoc.js");function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function viewover(e){e=(0,_settings.default)(e);(0,_applyViewoverOnDoc.applyViewoverOnDoc)(e)}module.exports=viewover,Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=checkIfImageScalable;var _getMainElementsSizes=_interopRequireDefault(require("../mainContent/getMainElementsSizes.js"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _regeneratorRuntime(){_regeneratorRuntime=function(){return a};var a={},e=Object.prototype,l=e.hasOwnProperty,c=Object.defineProperty||function(e,t,r){e[t]=r.value},t="function"==typeof Symbol?Symbol:{},n=t.iterator||"@@iterator",r=t.asyncIterator||"@@asyncIterator",o=t.toStringTag||"@@toStringTag";function i(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{i({},"")}catch(e){i=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var o,i,a,u,t=t&&t.prototype instanceof d?t:d,t=Object.create(t.prototype),n=new w(n||[]);return c(t,"_invoke",{value:(o=e,i=r,a=n,u="suspendedStart",function(e,t){if("executing"===u)throw new Error("Generator is already running");if("completed"===u){if("throw"===e)throw t;return E()}for(a.method=e,a.arg=t;;){var r=a.delegate;if(r){r=function e(t,r){var n=r.method,o=t.iterator[n];if(void 0===o)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=void 0,e(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;n=s(o,t.iterator,r.arg);if("throw"===n.type)return r.method="throw",r.arg=n.arg,r.delegate=null,h;o=n.arg;return o?o.done?(r[t.resultName]=o.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=void 0),r.delegate=null,h):o:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,h)}(r,a);if(r){if(r===h)continue;return r}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===u)throw u="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);u="executing";r=s(o,i,a);if("normal"===r.type){if(u=a.done?"completed":"suspendedYield",r.arg===h)continue;return{value:r.arg,done:a.done}}"throw"===r.type&&(u="completed",a.method="throw",a.arg=r.arg)}})}),t}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}a.wrap=u;var h={};function d(){}function f(){}function p(){}var t={},v=(i(t,n,function(){return this}),Object.getPrototypeOf),v=v&&v(v(x([]))),m=(v&&v!==e&&l.call(v,n)&&(t=v),p.prototype=d.prototype=Object.create(t));function y(e){["next","throw","return"].forEach(function(t){i(e,t,function(e){return this._invoke(t,e)})})}function g(a,u){var t;c(this,"_invoke",{value:function(r,n){function e(){return new u(function(e,t){!function t(e,r,n,o){var i,e=s(a[e],a,r);if("throw"!==e.type)return(r=(i=e.arg).value)&&"object"==_typeof(r)&&l.call(r,"__await")?u.resolve(r.__await).then(function(e){t("next",e,n,o)},function(e){t("throw",e,n,o)}):u.resolve(r).then(function(e){i.value=e,n(i)},function(e){return t("throw",e,n,o)});o(e.arg)}(r,n,e,t)})}return t=t?t.then(e,e):e()}})}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function b(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function w(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function x(t){if(t){var r,e=t[n];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return r=-1,(e=function e(){for(;++r<t.length;)if(l.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e}).next=e}return{next:E}}function E(){return{value:void 0,done:!0}}return c(m,"constructor",{value:f.prototype=p,configurable:!0}),c(p,"constructor",{value:f,configurable:!0}),f.displayName=i(p,o,"GeneratorFunction"),a.isGeneratorFunction=function(e){e="function"==typeof e&&e.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},a.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,i(e,o,"GeneratorFunction")),e.prototype=Object.create(m),e},a.awrap=function(e){return{__await:e}},y(g.prototype),i(g.prototype,r,function(){return this}),a.AsyncIterator=g,a.async=function(e,t,r,n,o){void 0===o&&(o=Promise);var i=new g(u(e,t,r,n),o);return a.isGeneratorFunction(t)?i:i.next().then(function(e){return e.done?e.value:i.next()})},y(m),i(m,o,"Generator"),i(m,n,function(){return this}),i(m,"toString",function(){return"[object Generator]"}),a.keys=function(e){var t,r=Object(e),n=[];for(t in r)n.push(t);return n.reverse(),function e(){for(;n.length;){var t=n.pop();if(t in r)return e.value=t,e.done=!1,e}return e.done=!0,e}},a.values=x,w.prototype={constructor:w,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(b),!e)for(var t in this)"t"===t.charAt(0)&&l.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(r){if(this.done)throw r;var n=this;function e(e,t){return i.type="throw",i.arg=r,n.next=e,t&&(n.method="next",n.arg=void 0),!!t}for(var t=this.tryEntries.length-1;0<=t;--t){var o=this.tryEntries[t],i=o.completion;if("root"===o.tryLoc)return e("end");if(o.tryLoc<=this.prev){var a=l.call(o,"catchLoc"),u=l.call(o,"finallyLoc");if(a&&u){if(this.prev<o.catchLoc)return e(o.catchLoc,!0);if(this.prev<o.finallyLoc)return e(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return e(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return e(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;0<=r;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&l.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}var i=(o=o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc?null:o)?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),b(r),h}},catch:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var r,n,o=this.tryEntries[t];if(o.tryLoc===e)return"throw"===(r=o.completion).type&&(n=r.arg,b(o)),n}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:x(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),h}},a}function asyncGeneratorStep(e,t,r,n,o,i,a){try{var u=e[i](a),l=u.value}catch(e){return void r(e)}u.done?t(l):Promise.resolve(l).then(n,o)}function _asyncToGenerator(u){return function(){var e=this,a=arguments;return new Promise(function(t,r){var n=u.apply(e,a);function o(e){asyncGeneratorStep(n,t,r,o,i,"next",e)}function i(e){asyncGeneratorStep(n,t,r,o,i,"throw",e)}o(void 0)})}}function checkIfImageScalable(){return _checkIfImageScalable.apply(this,arguments)}function _checkIfImageScalable(){return(_checkIfImageScalable=_asyncToGenerator(_regeneratorRuntime().mark(function e(){var t,r,n,o;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,_getMainElementsSizes.default)();case 2:return o=e.sent,t=o.currentSize.height>o.mainContentSize.height,r=o.currentSize.width>o.mainContentSize.width,n=o.naturalSize.height>o.currentSize.height,o=o.naturalSize.width>o.currentSize.width,n=n&&o,o=t&&r,e.abrupt("return",{isScalable:n,isInvertible:o});case 10:case"end":return e.stop()}},e)}))).apply(this,arguments)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=controlbarAddEvents;var _docConstants=require("../../document/docConstants.js"),_createMediaElement=require("../mainContent/createMediaElement.js"),_handleZoom=require("./handleZoom.js"),_toggleButtonIcon=_interopRequireDefault(require("./toggleButtonIcon.js")),_createDialog=_interopRequireDefault(require("../../document/createDialog.js")),_toggleFullScreenMode=_interopRequireDefault(require("./toggleFullScreenMode.js")),_toggleControlBar=require("./toggleControlBar.js"),_handleCloseButton=_interopRequireDefault(require("./handleCloseButton.js")),_resetViewoverContent=_interopRequireDefault(require("../turnOffViewover/resetViewoverContent.js")),_displayZoomButtons=require("./displayZoomButtons.js");function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function controlbarAddEvents(r){1==r.zoom&&(_docConstants.zoomInButton.addEventListener("click",_handleZoom.handleZoomInButton),_docConstants.zoomOutButton.addEventListener("click",_handleZoom.handleZoomOutButton)),_docConstants.closeButton.onclick=function(){(0,_handleCloseButton.default)()},document.addEventListener("keyup",function(e){var t=_createDialog.default.hasAttribute("open");"Escape"===e.key&&(0,_resetViewoverContent.default)(),"Enter"===e.key&&t&&1==r.fullscreen&&(0,_toggleFullScreenMode.default)()}),document.addEventListener("fullscreenchange",function(){_docConstants.fullscreenEntryButton.classList.contains("button_hidden")?((0,_toggleButtonIcon.default)(_docConstants.fullscreenEntryButton,_docConstants.fullscreenExitButton),_docConstants.viewoverContent.removeEventListener("mousemove",_toggleControlBar.toggleControlBar),_docConstants.controlBar.removeEventListener("mouseenter",_toggleControlBar.showControlBar),_docConstants.controlBar.removeEventListener("mouseleave",_toggleControlBar.toggleControlBar),(0,_toggleControlBar.showControlBar)()):((0,_toggleButtonIcon.default)(_docConstants.fullscreenExitButton,_docConstants.fullscreenEntryButton),_docConstants.viewoverContent.addEventListener("mousemove",_toggleControlBar.toggleControlBar),_docConstants.controlBar.addEventListener("mouseenter",_toggleControlBar.showControlBar),_docConstants.controlBar.addEventListener("mouseleave",_toggleControlBar.toggleControlBar))})}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.showZoomButtons=exports.hideZoomButtons=exports.enableZoomButtons=void 0;var _docConstants=require("../../document/docConstants.js"),_checkIfImageScalable=_interopRequireDefault(require("./checkIfImageScalable.js")),_getMainElementsSizes=_interopRequireDefault(require("../mainContent/getMainElementsSizes.js")),_toggleZoomDisable=require("./toggleZoomDisable.js");function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _regeneratorRuntime(){_regeneratorRuntime=function(){return a};var a={},e=Object.prototype,l=e.hasOwnProperty,c=Object.defineProperty||function(e,t,r){e[t]=r.value},t="function"==typeof Symbol?Symbol:{},n=t.iterator||"@@iterator",r=t.asyncIterator||"@@asyncIterator",o=t.toStringTag||"@@toStringTag";function i(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{i({},"")}catch(e){i=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var o,i,a,u,t=t&&t.prototype instanceof d?t:d,t=Object.create(t.prototype),n=new w(n||[]);return c(t,"_invoke",{value:(o=e,i=r,a=n,u="suspendedStart",function(e,t){if("executing"===u)throw new Error("Generator is already running");if("completed"===u){if("throw"===e)throw t;return E()}for(a.method=e,a.arg=t;;){var r=a.delegate;if(r){r=function e(t,r){var n=r.method,o=t.iterator[n];if(void 0===o)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=void 0,e(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;n=s(o,t.iterator,r.arg);if("throw"===n.type)return r.method="throw",r.arg=n.arg,r.delegate=null,h;o=n.arg;return o?o.done?(r[t.resultName]=o.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=void 0),r.delegate=null,h):o:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,h)}(r,a);if(r){if(r===h)continue;return r}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===u)throw u="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);u="executing";r=s(o,i,a);if("normal"===r.type){if(u=a.done?"completed":"suspendedYield",r.arg===h)continue;return{value:r.arg,done:a.done}}"throw"===r.type&&(u="completed",a.method="throw",a.arg=r.arg)}})}),t}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}a.wrap=u;var h={};function d(){}function f(){}function p(){}var t={},v=(i(t,n,function(){return this}),Object.getPrototypeOf),v=v&&v(v(x([]))),m=(v&&v!==e&&l.call(v,n)&&(t=v),p.prototype=d.prototype=Object.create(t));function y(e){["next","throw","return"].forEach(function(t){i(e,t,function(e){return this._invoke(t,e)})})}function g(a,u){var t;c(this,"_invoke",{value:function(r,n){function e(){return new u(function(e,t){!function t(e,r,n,o){var i,e=s(a[e],a,r);if("throw"!==e.type)return(r=(i=e.arg).value)&&"object"==_typeof(r)&&l.call(r,"__await")?u.resolve(r.__await).then(function(e){t("next",e,n,o)},function(e){t("throw",e,n,o)}):u.resolve(r).then(function(e){i.value=e,n(i)},function(e){return t("throw",e,n,o)});o(e.arg)}(r,n,e,t)})}return t=t?t.then(e,e):e()}})}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function b(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function w(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function x(t){if(t){var r,e=t[n];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return r=-1,(e=function e(){for(;++r<t.length;)if(l.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e}).next=e}return{next:E}}function E(){return{value:void 0,done:!0}}return c(m,"constructor",{value:f.prototype=p,configurable:!0}),c(p,"constructor",{value:f,configurable:!0}),f.displayName=i(p,o,"GeneratorFunction"),a.isGeneratorFunction=function(e){e="function"==typeof e&&e.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},a.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,i(e,o,"GeneratorFunction")),e.prototype=Object.create(m),e},a.awrap=function(e){return{__await:e}},y(g.prototype),i(g.prototype,r,function(){return this}),a.AsyncIterator=g,a.async=function(e,t,r,n,o){void 0===o&&(o=Promise);var i=new g(u(e,t,r,n),o);return a.isGeneratorFunction(t)?i:i.next().then(function(e){return e.done?e.value:i.next()})},y(m),i(m,o,"Generator"),i(m,n,function(){return this}),i(m,"toString",function(){return"[object Generator]"}),a.keys=function(e){var t,r=Object(e),n=[];for(t in r)n.push(t);return n.reverse(),function e(){for(;n.length;){var t=n.pop();if(t in r)return e.value=t,e.done=!1,e}return e.done=!0,e}},a.values=x,w.prototype={constructor:w,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(b),!e)for(var t in this)"t"===t.charAt(0)&&l.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(r){if(this.done)throw r;var n=this;function e(e,t){return i.type="throw",i.arg=r,n.next=e,t&&(n.method="next",n.arg=void 0),!!t}for(var t=this.tryEntries.length-1;0<=t;--t){var o=this.tryEntries[t],i=o.completion;if("root"===o.tryLoc)return e("end");if(o.tryLoc<=this.prev){var a=l.call(o,"catchLoc"),u=l.call(o,"finallyLoc");if(a&&u){if(this.prev<o.catchLoc)return e(o.catchLoc,!0);if(this.prev<o.finallyLoc)return e(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return e(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return e(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;0<=r;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&l.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}var i=(o=o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc?null:o)?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),b(r),h}},catch:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var r,n,o=this.tryEntries[t];if(o.tryLoc===e)return"throw"===(r=o.completion).type&&(n=r.arg,b(o)),n}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:x(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),h}},a}function asyncGeneratorStep(e,t,r,n,o,i,a){try{var u=e[i](a),l=u.value}catch(e){return void r(e)}u.done?t(l):Promise.resolve(l).then(n,o)}function _asyncToGenerator(u){return function(){var e=this,a=arguments;return new Promise(function(t,r){var n=u.apply(e,a);function o(e){asyncGeneratorStep(n,t,r,o,i,"next",e)}function i(e){asyncGeneratorStep(n,t,r,o,i,"throw",e)}o(void 0)})}}var showZoomButtons=function(){_docConstants.zoomInButton.classList.contains("viewover__zoom-button_visible")||(_docConstants.zoomInButton.classList.add("viewover__zoom-button_visible"),_docConstants.zoomOutButton.classList.add("viewover__zoom-button_visible")),(0,_toggleZoomDisable.toggleZoomInDisable)(!0),(0,_toggleZoomDisable.toggleZoomOutDisable)(!0)},enableZoomButtons=(exports.showZoomButtons=showZoomButtons,function(){var e=_asyncToGenerator(_regeneratorRuntime().mark(function e(){var t;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,_getMainElementsSizes.default)();case 2:return e.sent,e.next=5,(0,_checkIfImageScalable.default)();case 5:(t=e.sent).isScalable&&(0,_toggleZoomDisable.toggleZoomInDisable)(!1),t.isInvertible&&(0,_toggleZoomDisable.toggleZoomOutDisable)(!1);case 8:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()),hideZoomButtons=(exports.enableZoomButtons=enableZoomButtons,function(){_docConstants.zoomInButton.classList.contains("viewover__zoom-button_visible")&&(_docConstants.zoomInButton.classList.remove("viewover__zoom-button_visible"),_docConstants.zoomOutButton.classList.remove("viewover__zoom-button_visible"))}),_createDialog=(exports.hideZoomButtons=hideZoomButtons,Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=handleCloseButton,_interopRequireDefault(require("../../document/createDialog.js"))),_resetViewoverContent=_interopRequireDefault(require("../turnOffViewover/resetViewoverContent.js"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function handleCloseButton(){document.fullscreenElement&&document.exitFullscreen(),(0,_resetViewoverContent.default)()}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=handleNextElement;var _docConstants=require("../../document/docConstants.js"),_getActiveMainElementSrc=_interopRequireDefault(require("../mainContent/getActiveMainElementSrc.js")),_setActiveMainElement=_interopRequireDefault(require("../mainContent/setActiveMainElement.js")),_toggleActiveThumbnail=_interopRequireDefault(require("../thumbnailsTrack/toggleActiveThumbnail.js")),_handleThumbnailsOverflow=require("../thumbnailsTrack/handleThumbnailsOverflow.js");function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){var r;if(e)return"string"==typeof e?_arrayLikeToArray(e,t):"Map"===(r="Object"===(r=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(e,t):void 0}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function handleNextElement(e){var t=_toConsumableArray(_docConstants.viewoverThumbnailsTrack.children),r=(0,_getActiveMainElementSrc.default)(),n=e.findIndex(function(e){return void 0!==e.currentSrc?e.currentSrc===r:e.src===r})+1,e=n<e.length?e.find(function(e,t){return t===n}):e.at(0),o=e.src||e.currentSrc,t=t.find(function(e){return e.querySelector(".viewover__thumbnail").getAttribute("data-viewover-thumbnail-src")===o});(0,_setActiveMainElement.default)(e.localName,o),(0,_handleThumbnailsOverflow.scrollThumbnailToViewport)(t),(0,_toggleActiveThumbnail.default)(t)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=handlePreviousElement;_docConstants=require("../../document/docConstants.js"),_getActiveMainElementSrc=_interopRequireDefault(require("../mainContent/getActiveMainElementSrc.js")),_toggleActiveThumbnail=_interopRequireDefault(require("../thumbnailsTrack/toggleActiveThumbnail.js")),_setActiveMainElement=_interopRequireDefault(require("../mainContent/setActiveMainElement.js")),_handleThumbnailsOverflow=require("../thumbnailsTrack/handleThumbnailsOverflow.js");function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){var r;if(e)return"string"==typeof e?_arrayLikeToArray(e,t):"Map"===(r="Object"===(r=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(e,t):void 0}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function handlePreviousElement(e){var t=_toConsumableArray(_docConstants.viewoverThumbnailsTrack.children),r=(0,_getActiveMainElementSrc.default)(),n=e.findIndex(function(e){return void 0===e.currentSrc?e.src===r:e.currentSrc===r})-1,e=-1<n?e.find(function(e,t){return t===n}):e.at(-1),o=e.src||e.currentSrc,t=t.find(function(e){return e.querySelector(".viewover__thumbnail").getAttribute("data-viewover-thumbnail-src")===o});(0,_setActiveMainElement.default)(e.localName,o),(0,_handleThumbnailsOverflow.scrollThumbnailToViewport)(t),(0,_toggleActiveThumbnail.default)(t)}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.handleZoomWheel=exports.handleZoomOutButton=exports.handleZoomInButton=void 0;var _createMediaElement=require("../mainContent/createMediaElement.js"),_checkIfImageScalable=_interopRequireDefault(require("./checkIfImageScalable.js")),_displayZoomButtons=require("./displayZoomButtons.js"),_getMainElementsSizes=_interopRequireDefault(require("../mainContent/getMainElementsSizes.js")),_toggleZoomDisable=require("./toggleZoomDisable.js");function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _regeneratorRuntime(){_regeneratorRuntime=function(){return a};var a={},e=Object.prototype,l=e.hasOwnProperty,c=Object.defineProperty||function(e,t,r){e[t]=r.value},t="function"==typeof Symbol?Symbol:{},n=t.iterator||"@@iterator",r=t.asyncIterator||"@@asyncIterator",o=t.toStringTag||"@@toStringTag";function i(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{i({},"")}catch(e){i=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var o,i,a,u,t=t&&t.prototype instanceof d?t:d,t=Object.create(t.prototype),n=new w(n||[]);return c(t,"_invoke",{value:(o=e,i=r,a=n,u="suspendedStart",function(e,t){if("executing"===u)throw new Error("Generator is already running");if("completed"===u){if("throw"===e)throw t;return E()}for(a.method=e,a.arg=t;;){var r=a.delegate;if(r){r=function e(t,r){var n=r.method,o=t.iterator[n];if(void 0===o)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=void 0,e(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;n=s(o,t.iterator,r.arg);if("throw"===n.type)return r.method="throw",r.arg=n.arg,r.delegate=null,h;o=n.arg;return o?o.done?(r[t.resultName]=o.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=void 0),r.delegate=null,h):o:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,h)}(r,a);if(r){if(r===h)continue;return r}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===u)throw u="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);u="executing";r=s(o,i,a);if("normal"===r.type){if(u=a.done?"completed":"suspendedYield",r.arg===h)continue;return{value:r.arg,done:a.done}}"throw"===r.type&&(u="completed",a.method="throw",a.arg=r.arg)}})}),t}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}a.wrap=u;var h={};function d(){}function f(){}function p(){}var t={},v=(i(t,n,function(){return this}),Object.getPrototypeOf),v=v&&v(v(x([]))),m=(v&&v!==e&&l.call(v,n)&&(t=v),p.prototype=d.prototype=Object.create(t));function y(e){["next","throw","return"].forEach(function(t){i(e,t,function(e){return this._invoke(t,e)})})}function g(a,u){var t;c(this,"_invoke",{value:function(r,n){function e(){return new u(function(e,t){!function t(e,r,n,o){var i,e=s(a[e],a,r);if("throw"!==e.type)return(r=(i=e.arg).value)&&"object"==_typeof(r)&&l.call(r,"__await")?u.resolve(r.__await).then(function(e){t("next",e,n,o)},function(e){t("throw",e,n,o)}):u.resolve(r).then(function(e){i.value=e,n(i)},function(e){return t("throw",e,n,o)});o(e.arg)}(r,n,e,t)})}return t=t?t.then(e,e):e()}})}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function b(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function w(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function x(t){if(t){var r,e=t[n];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return r=-1,(e=function e(){for(;++r<t.length;)if(l.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e}).next=e}return{next:E}}function E(){return{value:void 0,done:!0}}return c(m,"constructor",{value:f.prototype=p,configurable:!0}),c(p,"constructor",{value:f,configurable:!0}),f.displayName=i(p,o,"GeneratorFunction"),a.isGeneratorFunction=function(e){e="function"==typeof e&&e.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},a.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,i(e,o,"GeneratorFunction")),e.prototype=Object.create(m),e},a.awrap=function(e){return{__await:e}},y(g.prototype),i(g.prototype,r,function(){return this}),a.AsyncIterator=g,a.async=function(e,t,r,n,o){void 0===o&&(o=Promise);var i=new g(u(e,t,r,n),o);return a.isGeneratorFunction(t)?i:i.next().then(function(e){return e.done?e.value:i.next()})},y(m),i(m,o,"Generator"),i(m,n,function(){return this}),i(m,"toString",function(){return"[object Generator]"}),a.keys=function(e){var t,r=Object(e),n=[];for(t in r)n.push(t);return n.reverse(),function e(){for(;n.length;){var t=n.pop();if(t in r)return e.value=t,e.done=!1,e}return e.done=!0,e}},a.values=x,w.prototype={constructor:w,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(b),!e)for(var t in this)"t"===t.charAt(0)&&l.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(r){if(this.done)throw r;var n=this;function e(e,t){return i.type="throw",i.arg=r,n.next=e,t&&(n.method="next",n.arg=void 0),!!t}for(var t=this.tryEntries.length-1;0<=t;--t){var o=this.tryEntries[t],i=o.completion;if("root"===o.tryLoc)return e("end");if(o.tryLoc<=this.prev){var a=l.call(o,"catchLoc"),u=l.call(o,"finallyLoc");if(a&&u){if(this.prev<o.catchLoc)return e(o.catchLoc,!0);if(this.prev<o.finallyLoc)return e(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return e(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return e(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;0<=r;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&l.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}var i=(o=o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc?null:o)?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),b(r),h}},catch:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var r,n,o=this.tryEntries[t];if(o.tryLoc===e)return"throw"===(r=o.completion).type&&(n=r.arg,b(o)),n}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:x(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),h}},a}function asyncGeneratorStep(e,t,r,n,o,i,a){try{var u=e[i](a),l=u.value}catch(e){return void r(e)}u.done?t(l):Promise.resolve(l).then(n,o)}function _asyncToGenerator(u){return function(){var e=this,a=arguments;return new Promise(function(t,r){var n=u.apply(e,a);function o(e){asyncGeneratorStep(n,t,r,o,i,"next",e)}function i(e){asyncGeneratorStep(n,t,r,o,i,"throw",e)}o(void 0)})}}var handleZoomInButton=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark(function e(){var t,r,n,o,i,a;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,_getMainElementsSizes.default)();case 2:return t=e.sent,e.next=5,(0,_checkIfImageScalable.default)();case 5:if(r=e.sent,n=t.currentSize.width,o=t.currentSize.height,i=t.naturalSize.width,a=t.naturalSize.height,r.isScalable&&(_createMediaElement.activeMainElement.element.style.maxWidth="calc(".concat(n,"px + ").concat(i/20,"px)"),_createMediaElement.activeMainElement.element.style.maxHeight="calc(".concat(o,"px + ").concat(a/20,"px)")),i-n<i/20)return(0,_toggleZoomDisable.toggleZoomInDisable)(!0),e.abrupt("return");e.next=14;break;case 14:(0,_displayZoomButtons.enableZoomButtons)();case 15:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),handleZoomOutButton=(exports.handleZoomInButton=handleZoomInButton,function(){var e=_asyncToGenerator(_regeneratorRuntime().mark(function e(){var t,r,n,o,i,a;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,_getMainElementsSizes.default)();case 2:return t=e.sent,e.next=5,(0,_checkIfImageScalable.default)();case 5:if(r=e.sent,n=t.currentSize.width,o=t.currentSize.height,i=t.naturalSize.width,a=t.naturalSize.height,r.isInvertible&&(_createMediaElement.activeMainElement.element.style.maxWidth="calc(".concat(n,"px - ").concat(i/20,"px)"),_createMediaElement.activeMainElement.element.style.maxHeight="calc(".concat(o,"px - ").concat(a/20,"px)")),n-t.mainContentSize.width<i/20)return(0,_toggleZoomDisable.toggleZoomOutDisable)(!0),e.abrupt("return");e.next=14;break;case 14:(0,_displayZoomButtons.enableZoomButtons)();case 15:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()),handleZoomWheel=(exports.handleZoomOutButton=handleZoomOutButton,function(){var t=_asyncToGenerator(_regeneratorRuntime().mark(function e(t){var r,n,o,i,a,u;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.ctrlKey)return t.preventDefault(),e.next=4,(0,_getMainElementsSizes.default)();e.next=15;break;case 4:return r=e.sent,e.next=7,(0,_checkIfImageScalable.default)();case 7:n=e.sent,o=r.currentSize.width,i=r.currentSize.height,a=r.naturalSize.width,u=r.naturalSize.height,0<t.deltaY&&n.isInvertible&&(_createMediaElement.activeMainElement.element.style.maxWidth="calc(".concat(o,"px - ").concat(a/30,"px)"),_createMediaElement.activeMainElement.element.style.maxHeight="calc(".concat(i,"px - ").concat(u/30,"px)")),t.deltaY<0&&n.isScalable&&(_createMediaElement.activeMainElement.element.style.maxWidth="calc(".concat(o,"px + ").concat(a/30,"px)"),_createMediaElement.activeMainElement.element.style.maxHeight="calc(".concat(i,"px + ").concat(u/30,"px)")),(0,_displayZoomButtons.enableZoomButtons)();case 15:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}());function toggleButtonIcon(e,t){e.classList.remove("button_hidden"),e.classList.add("button_visible"),t.classList.remove("button_visible"),t.classList.add("button_hidden")}exports.handleZoomWheel=handleZoomWheel,Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=toggleButtonIcon,Object.defineProperty(exports,"__esModule",{value:!0}),exports.toggleControlBar=exports.showControlBar=void 0;var timeout,_docConstants=require("../../document/docConstants.js"),showControlBar=function(){clearTimeout(timeout),_docConstants.controlBar.style.visibility="visible",_docConstants.controlBar.style.opacity="1"},toggleControlBar=(exports.showControlBar=showControlBar,function(){clearTimeout(timeout),timeout=setTimeout(function(){_docConstants.controlBar.style.visibility="visible",_docConstants.controlBar.style.opacity="1"},100),timeout=setTimeout(function(){_docConstants.controlBar.style.visibility="hidden",_docConstants.controlBar.style.opacity="0"},2e3)}),_docConstants=(exports.toggleControlBar=toggleControlBar,Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=toggleFullScreenMode,require("../../document/docConstants.js"));function toggleFullScreenMode(){document.fullscreenElement?document.exitFullscreen():_docConstants.viewoverContainer.requestFullscreen()}Object.defineProperty(exports,"__esModule",{value:!0}),exports.toggleZoomOutDisable=exports.toggleZoomInDisable=void 0;_docConstants=require("../../document/docConstants.js");function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){var r;if(e)return"string"==typeof e?_arrayLikeToArray(e,t):"Map"===(r="Object"===(r=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(e,t):void 0}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var toggleZoomInDisable=function(e){e?(_docConstants.zoomInButton.setAttribute("disabled",""),_docConstants.zoomInButton.style.cursor="default",_toConsumableArray(_docConstants.zoomInButton.children)[0].style.fill="var(--viewover-icon-color-disable)"):(_docConstants.zoomInButton.removeAttribute("disabled"),_docConstants.zoomInButton.style.cursor="pointer",_toConsumableArray(_docConstants.zoomInButton.children)[0].style.fill="var(--viewover-icon-color)")},toggleZoomOutDisable=(exports.toggleZoomInDisable=toggleZoomInDisable,function(e){e?(_docConstants.zoomOutButton.setAttribute("disabled",""),_docConstants.zoomOutButton.style.cursor="default",_toConsumableArray(_docConstants.zoomOutButton.children)[0].style.fill="var(--viewover-icon-color-disable)"):(_docConstants.zoomOutButton.removeAttribute("disabled"),_docConstants.zoomOutButton.style.cursor="pointer",_toConsumableArray(_docConstants.zoomOutButton.children)[0].style.fill="var(--viewover-icon-color)")}),activeMainElement=(exports.toggleZoomOutDisable=toggleZoomOutDisable,Object.defineProperty(exports,"__esModule",{value:!0}),exports.createMediaElement=exports.activeMainElement=void 0,{}),createMediaElement=(exports.activeMainElement=activeMainElement,function(e,t){var r;return activeMainElement.element=document.createElement("".concat(e)),activeMainElement.element.classList.add("viewover__".concat(e)),"video"===e?((r=document.createElement("source")).setAttribute("src",t),activeMainElement.element.setAttribute("controls",""),activeMainElement.element.appendChild(r)):"img"===e||"iframe"===e?activeMainElement.element.setAttribute("src",t):void 0}),_createMediaElement=(exports.createMediaElement=createMediaElement,Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=getActiveMainElementSrc,require("./createMediaElement.js"));function getActiveMainElementSrc(){return"iframe"===_createMediaElement.activeMainElement.element.localName?_createMediaElement.activeMainElement.element.src:_createMediaElement.activeMainElement.element.currentSrc}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=getMainElementsSizes;_createMediaElement=require("../mainContent/createMediaElement.js"),_docConstants=require("../../document/docConstants.js");function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _regeneratorRuntime(){_regeneratorRuntime=function(){return a};var a={},e=Object.prototype,l=e.hasOwnProperty,c=Object.defineProperty||function(e,t,r){e[t]=r.value},t="function"==typeof Symbol?Symbol:{},n=t.iterator||"@@iterator",r=t.asyncIterator||"@@asyncIterator",o=t.toStringTag||"@@toStringTag";function i(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{i({},"")}catch(e){i=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var o,i,a,u,t=t&&t.prototype instanceof d?t:d,t=Object.create(t.prototype),n=new w(n||[]);return c(t,"_invoke",{value:(o=e,i=r,a=n,u="suspendedStart",function(e,t){if("executing"===u)throw new Error("Generator is already running");if("completed"===u){if("throw"===e)throw t;return E()}for(a.method=e,a.arg=t;;){var r=a.delegate;if(r){r=function e(t,r){var n=r.method,o=t.iterator[n];if(void 0===o)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=void 0,e(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;n=s(o,t.iterator,r.arg);if("throw"===n.type)return r.method="throw",r.arg=n.arg,r.delegate=null,h;o=n.arg;return o?o.done?(r[t.resultName]=o.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=void 0),r.delegate=null,h):o:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,h)}(r,a);if(r){if(r===h)continue;return r}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===u)throw u="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);u="executing";r=s(o,i,a);if("normal"===r.type){if(u=a.done?"completed":"suspendedYield",r.arg===h)continue;return{value:r.arg,done:a.done}}"throw"===r.type&&(u="completed",a.method="throw",a.arg=r.arg)}})}),t}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}a.wrap=u;var h={};function d(){}function f(){}function p(){}var t={},v=(i(t,n,function(){return this}),Object.getPrototypeOf),v=v&&v(v(x([]))),m=(v&&v!==e&&l.call(v,n)&&(t=v),p.prototype=d.prototype=Object.create(t));function y(e){["next","throw","return"].forEach(function(t){i(e,t,function(e){return this._invoke(t,e)})})}function g(a,u){var t;c(this,"_invoke",{value:function(r,n){function e(){return new u(function(e,t){!function t(e,r,n,o){var i,e=s(a[e],a,r);if("throw"!==e.type)return(r=(i=e.arg).value)&&"object"==_typeof(r)&&l.call(r,"__await")?u.resolve(r.__await).then(function(e){t("next",e,n,o)},function(e){t("throw",e,n,o)}):u.resolve(r).then(function(e){i.value=e,n(i)},function(e){return t("throw",e,n,o)});o(e.arg)}(r,n,e,t)})}return t=t?t.then(e,e):e()}})}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function b(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function w(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function x(t){if(t){var r,e=t[n];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return r=-1,(e=function e(){for(;++r<t.length;)if(l.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e}).next=e}return{next:E}}function E(){return{value:void 0,done:!0}}return c(m,"constructor",{value:f.prototype=p,configurable:!0}),c(p,"constructor",{value:f,configurable:!0}),f.displayName=i(p,o,"GeneratorFunction"),a.isGeneratorFunction=function(e){e="function"==typeof e&&e.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},a.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,i(e,o,"GeneratorFunction")),e.prototype=Object.create(m),e},a.awrap=function(e){return{__await:e}},y(g.prototype),i(g.prototype,r,function(){return this}),a.AsyncIterator=g,a.async=function(e,t,r,n,o){void 0===o&&(o=Promise);var i=new g(u(e,t,r,n),o);return a.isGeneratorFunction(t)?i:i.next().then(function(e){return e.done?e.value:i.next()})},y(m),i(m,o,"Generator"),i(m,n,function(){return this}),i(m,"toString",function(){return"[object Generator]"}),a.keys=function(e){var t,r=Object(e),n=[];for(t in r)n.push(t);return n.reverse(),function e(){for(;n.length;){var t=n.pop();if(t in r)return e.value=t,e.done=!1,e}return e.done=!0,e}},a.values=x,w.prototype={constructor:w,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(b),!e)for(var t in this)"t"===t.charAt(0)&&l.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(r){if(this.done)throw r;var n=this;function e(e,t){return i.type="throw",i.arg=r,n.next=e,t&&(n.method="next",n.arg=void 0),!!t}for(var t=this.tryEntries.length-1;0<=t;--t){var o=this.tryEntries[t],i=o.completion;if("root"===o.tryLoc)return e("end");if(o.tryLoc<=this.prev){var a=l.call(o,"catchLoc"),u=l.call(o,"finallyLoc");if(a&&u){if(this.prev<o.catchLoc)return e(o.catchLoc,!0);if(this.prev<o.finallyLoc)return e(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return e(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return e(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;0<=r;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&l.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}var i=(o=o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc?null:o)?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),b(r),h}},catch:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var r,n,o=this.tryEntries[t];if(o.tryLoc===e)return"throw"===(r=o.completion).type&&(n=r.arg,b(o)),n}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:x(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),h}},a}function asyncGeneratorStep(e,t,r,n,o,i,a){try{var u=e[i](a),l=u.value}catch(e){return void r(e)}u.done?t(l):Promise.resolve(l).then(n,o)}function _asyncToGenerator(u){return function(){var e=this,a=arguments;return new Promise(function(t,r){var n=u.apply(e,a);function o(e){asyncGeneratorStep(n,t,r,o,i,"next",e)}function i(e){asyncGeneratorStep(n,t,r,o,i,"throw",e)}o(void 0)})}}function getMainElementsSizes(){return _getMainElementsSizes.apply(this,arguments)}function _getMainElementsSizes(){return(_getMainElementsSizes=_asyncToGenerator(_regeneratorRuntime().mark(function e(){var t,r,n;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_createMediaElement.activeMainElement.element.decode();case 2:return t={width:_createMediaElement.activeMainElement.element.naturalWidth,height:_createMediaElement.activeMainElement.element.naturalHeight},r={width:_createMediaElement.activeMainElement.element.getBoundingClientRect().width,height:_createMediaElement.activeMainElement.element.getBoundingClientRect().height},n={width:_docConstants.viewoverMainContent.clientWidth,height:_docConstants.viewoverMainContent.clientHeight},e.abrupt("return",{naturalSize:t,currentSize:r,mainContentSize:n});case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=removeViewoverMediaWrapperChildren;_docConstants=require("../../document/docConstants.js");function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){var r;if(e)return"string"==typeof e?_arrayLikeToArray(e,t):"Map"===(r="Object"===(r=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(e,t):void 0}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function removeViewoverMediaWrapperChildren(){_toConsumableArray(_docConstants.viewoverMediaWrapper.children).forEach(function(e){e.classList.contains("button")||e.remove()})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=setActiveMainElement;var _docConstants=require("../../document/docConstants.js"),_removeViewoverMediaWrapperChildren=_interopRequireDefault(require("./removeViewoverMediaWrapperChildren.js")),_createMediaElement=require("./createMediaElement.js"),_openViewover=require("../turnOnViewover/openViewover.js"),_displayZoomButtons=require("../controlbar/displayZoomButtons.js"),_handleZoom=require("../controlbar/handleZoom.js");function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _regeneratorRuntime(){_regeneratorRuntime=function(){return a};var a={},e=Object.prototype,l=e.hasOwnProperty,c=Object.defineProperty||function(e,t,r){e[t]=r.value},t="function"==typeof Symbol?Symbol:{},n=t.iterator||"@@iterator",r=t.asyncIterator||"@@asyncIterator",o=t.toStringTag||"@@toStringTag";function i(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{i({},"")}catch(e){i=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var o,i,a,u,t=t&&t.prototype instanceof d?t:d,t=Object.create(t.prototype),n=new w(n||[]);return c(t,"_invoke",{value:(o=e,i=r,a=n,u="suspendedStart",function(e,t){if("executing"===u)throw new Error("Generator is already running");if("completed"===u){if("throw"===e)throw t;return E()}for(a.method=e,a.arg=t;;){var r=a.delegate;if(r){r=function e(t,r){var n=r.method,o=t.iterator[n];if(void 0===o)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=void 0,e(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;n=s(o,t.iterator,r.arg);if("throw"===n.type)return r.method="throw",r.arg=n.arg,r.delegate=null,h;o=n.arg;return o?o.done?(r[t.resultName]=o.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=void 0),r.delegate=null,h):o:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,h)}(r,a);if(r){if(r===h)continue;return r}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===u)throw u="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);u="executing";r=s(o,i,a);if("normal"===r.type){if(u=a.done?"completed":"suspendedYield",r.arg===h)continue;return{value:r.arg,done:a.done}}"throw"===r.type&&(u="completed",a.method="throw",a.arg=r.arg)}})}),t}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}a.wrap=u;var h={};function d(){}function f(){}function p(){}var t={},v=(i(t,n,function(){return this}),Object.getPrototypeOf),v=v&&v(v(x([]))),m=(v&&v!==e&&l.call(v,n)&&(t=v),p.prototype=d.prototype=Object.create(t));function y(e){["next","throw","return"].forEach(function(t){i(e,t,function(e){return this._invoke(t,e)})})}function g(a,u){var t;c(this,"_invoke",{value:function(r,n){function e(){return new u(function(e,t){!function t(e,r,n,o){var i,e=s(a[e],a,r);if("throw"!==e.type)return(r=(i=e.arg).value)&&"object"==_typeof(r)&&l.call(r,"__await")?u.resolve(r.__await).then(function(e){t("next",e,n,o)},function(e){t("throw",e,n,o)}):u.resolve(r).then(function(e){i.value=e,n(i)},function(e){return t("throw",e,n,o)});o(e.arg)}(r,n,e,t)})}return t=t?t.then(e,e):e()}})}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function b(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function w(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function x(t){if(t){var r,e=t[n];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return r=-1,(e=function e(){for(;++r<t.length;)if(l.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e}).next=e}return{next:E}}function E(){return{value:void 0,done:!0}}return c(m,"constructor",{value:f.prototype=p,configurable:!0}),c(p,"constructor",{value:f,configurable:!0}),f.displayName=i(p,o,"GeneratorFunction"),a.isGeneratorFunction=function(e){e="function"==typeof e&&e.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},a.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,i(e,o,"GeneratorFunction")),e.prototype=Object.create(m),e},a.awrap=function(e){return{__await:e}},y(g.prototype),i(g.prototype,r,function(){return this}),a.AsyncIterator=g,a.async=function(e,t,r,n,o){void 0===o&&(o=Promise);var i=new g(u(e,t,r,n),o);return a.isGeneratorFunction(t)?i:i.next().then(function(e){return e.done?e.value:i.next()})},y(m),i(m,o,"Generator"),i(m,n,function(){return this}),i(m,"toString",function(){return"[object Generator]"}),a.keys=function(e){var t,r=Object(e),n=[];for(t in r)n.push(t);return n.reverse(),function e(){for(;n.length;){var t=n.pop();if(t in r)return e.value=t,e.done=!1,e}return e.done=!0,e}},a.values=x,w.prototype={constructor:w,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(b),!e)for(var t in this)"t"===t.charAt(0)&&l.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(r){if(this.done)throw r;var n=this;function e(e,t){return i.type="throw",i.arg=r,n.next=e,t&&(n.method="next",n.arg=void 0),!!t}for(var t=this.tryEntries.length-1;0<=t;--t){var o=this.tryEntries[t],i=o.completion;if("root"===o.tryLoc)return e("end");if(o.tryLoc<=this.prev){var a=l.call(o,"catchLoc"),u=l.call(o,"finallyLoc");if(a&&u){if(this.prev<o.catchLoc)return e(o.catchLoc,!0);if(this.prev<o.finallyLoc)return e(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return e(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return e(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;0<=r;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&l.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}var i=(o=o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc?null:o)?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),b(r),h}},catch:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var r,n,o=this.tryEntries[t];if(o.tryLoc===e)return"throw"===(r=o.completion).type&&(n=r.arg,b(o)),n}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:x(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),h}},a}function asyncGeneratorStep(e,t,r,n,o,i,a){try{var u=e[i](a),l=u.value}catch(e){return void r(e)}u.done?t(l):Promise.resolve(l).then(n,o)}function _asyncToGenerator(u){return function(){var e=this,a=arguments;return new Promise(function(t,r){var n=u.apply(e,a);function o(e){asyncGeneratorStep(n,t,r,o,i,"next",e)}function i(e){asyncGeneratorStep(n,t,r,o,i,"throw",e)}o(void 0)})}}function setActiveMainElement(e,t){return _setActiveMainElement.apply(this,arguments)}function _setActiveMainElement(){return(_setActiveMainElement=_asyncToGenerator(_regeneratorRuntime().mark(function e(t,r){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:0!==_docConstants.viewoverMediaWrapper.children.length&&(0,_removeViewoverMediaWrapperChildren.default)(),(0,_createMediaElement.createMediaElement)(t,r),_docConstants.viewoverMediaWrapper.appendChild(_createMediaElement.activeMainElement.element),"video"!==t&&"iframe"!==t||(0,_displayZoomButtons.hideZoomButtons)(),"img"===t&&1==_openViewover.mediaElements.enableZoom&&(_createMediaElement.activeMainElement.element.removeEventListener("wheel",_handleZoom.handleZoomWheel),_createMediaElement.activeMainElement.element.addEventListener("wheel",_handleZoom.handleZoomWheel),(0,_displayZoomButtons.showZoomButtons)(),(0,_displayZoomButtons.enableZoomButtons)()),"video"===t&&_createMediaElement.activeMainElement.element.load(),_createMediaElement.activeMainElement.element.style.transition="var(--viewover-media-transition)";case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _regeneratorRuntime(){_regeneratorRuntime=function(){return a};var a={},e=Object.prototype,l=e.hasOwnProperty,c=Object.defineProperty||function(e,t,r){e[t]=r.value},t="function"==typeof Symbol?Symbol:{},n=t.iterator||"@@iterator",r=t.asyncIterator||"@@asyncIterator",o=t.toStringTag||"@@toStringTag";function i(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{i({},"")}catch(e){i=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var o,i,a,u,t=t&&t.prototype instanceof d?t:d,t=Object.create(t.prototype),n=new w(n||[]);return c(t,"_invoke",{value:(o=e,i=r,a=n,u="suspendedStart",function(e,t){if("executing"===u)throw new Error("Generator is already running");if("completed"===u){if("throw"===e)throw t;return E()}for(a.method=e,a.arg=t;;){var r=a.delegate;if(r){r=function e(t,r){var n=r.method,o=t.iterator[n];if(void 0===o)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=void 0,e(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;n=s(o,t.iterator,r.arg);if("throw"===n.type)return r.method="throw",r.arg=n.arg,r.delegate=null,h;o=n.arg;return o?o.done?(r[t.resultName]=o.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=void 0),r.delegate=null,h):o:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,h)}(r,a);if(r){if(r===h)continue;return r}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===u)throw u="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);u="executing";r=s(o,i,a);if("normal"===r.type){if(u=a.done?"completed":"suspendedYield",r.arg===h)continue;return{value:r.arg,done:a.done}}"throw"===r.type&&(u="completed",a.method="throw",a.arg=r.arg)}})}),t}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}a.wrap=u;var h={};function d(){}function f(){}function p(){}var t={},v=(i(t,n,function(){return this}),Object.getPrototypeOf),v=v&&v(v(x([]))),m=(v&&v!==e&&l.call(v,n)&&(t=v),p.prototype=d.prototype=Object.create(t));function y(e){["next","throw","return"].forEach(function(t){i(e,t,function(e){return this._invoke(t,e)})})}function g(a,u){var t;c(this,"_invoke",{value:function(r,n){function e(){return new u(function(e,t){!function t(e,r,n,o){var i,e=s(a[e],a,r);if("throw"!==e.type)return(r=(i=e.arg).value)&&"object"==_typeof(r)&&l.call(r,"__await")?u.resolve(r.__await).then(function(e){t("next",e,n,o)},function(e){t("throw",e,n,o)}):u.resolve(r).then(function(e){i.value=e,n(i)},function(e){return t("throw",e,n,o)});o(e.arg)}(r,n,e,t)})}return t=t?t.then(e,e):e()}})}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function b(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function w(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function x(t){if(t){var r,e=t[n];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return r=-1,(e=function e(){for(;++r<t.length;)if(l.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e}).next=e}return{next:E}}function E(){return{value:void 0,done:!0}}return c(m,"constructor",{value:f.prototype=p,configurable:!0}),c(p,"constructor",{value:f,configurable:!0}),f.displayName=i(p,o,"GeneratorFunction"),a.isGeneratorFunction=function(e){e="function"==typeof e&&e.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},a.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,i(e,o,"GeneratorFunction")),e.prototype=Object.create(m),e},a.awrap=function(e){return{__await:e}},y(g.prototype),i(g.prototype,r,function(){return this}),a.AsyncIterator=g,a.async=function(e,t,r,n,o){void 0===o&&(o=Promise);var i=new g(u(e,t,r,n),o);return a.isGeneratorFunction(t)?i:i.next().then(function(e){return e.done?e.value:i.next()})},y(m),i(m,o,"Generator"),i(m,n,function(){return this}),i(m,"toString",function(){return"[object Generator]"}),a.keys=function(e){var t,r=Object(e),n=[];for(t in r)n.push(t);return n.reverse(),function e(){for(;n.length;){var t=n.pop();if(t in r)return e.value=t,e.done=!1,e}return e.done=!0,e}},a.values=x,w.prototype={constructor:w,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(b),!e)for(var t in this)"t"===t.charAt(0)&&l.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(r){if(this.done)throw r;var n=this;function e(e,t){return i.type="throw",i.arg=r,n.next=e,t&&(n.method="next",n.arg=void 0),!!t}for(var t=this.tryEntries.length-1;0<=t;--t){var o=this.tryEntries[t],i=o.completion;if("root"===o.tryLoc)return e("end");if(o.tryLoc<=this.prev){var a=l.call(o,"catchLoc"),u=l.call(o,"finallyLoc");if(a&&u){if(this.prev<o.catchLoc)return e(o.catchLoc,!0);if(this.prev<o.finallyLoc)return e(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return e(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return e(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;0<=r;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&l.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}var i=(o=o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc?null:o)?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),b(r),h}},catch:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var r,n,o=this.tryEntries[t];if(o.tryLoc===e)return"throw"===(r=o.completion).type&&(n=r.arg,b(o)),n}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:x(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),h}},a}function asyncGeneratorStep(e,t,r,n,o,i,a){try{var u=e[i](a),l=u.value}catch(e){return void r(e)}u.done?t(l):Promise.resolve(l).then(n,o)}function _asyncToGenerator(u){return function(){var e=this,a=arguments;return new Promise(function(t,r){var n=u.apply(e,a);function o(e){asyncGeneratorStep(n,t,r,o,i,"next",e)}function i(e){asyncGeneratorStep(n,t,r,o,i,"throw",e)}o(void 0)})}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=createThumbnail;var setPlayIcon=function(e,t){var r=document.createElement("div");r.classList.add("viewover__play-icon"),e.appendChild(r)},getImageDimensions=function(e){return{height:e.naturalHeight,width:e.naturalWidth}},setThumbnailSize=function(e,t){var r=getImageDimensions(t),n=r.height,r=r.width;n<r&&(e.classList.add("viewover__thumbnail-wrapper_horizontal"),t.classList.add("viewover__thumbnail_horizontal")),r<n&&(e.classList.add("viewover__thumbnail-wrapper_vertical"),t.classList.add("viewover__thumbnail_vertical")),n===r&&0<r&&(e.classList.add("viewover__thumbnail-wrapper_square"),t.classList.add("viewover__thumbnail_square"))};function createThumbnail(e){return _createThumbnail.apply(this,arguments)}function _createThumbnail(){return(_createThumbnail=_asyncToGenerator(_regeneratorRuntime().mark(function e(t){var r,n,o,i;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=document.createElement("div"),o=document.createElement("img"),n.classList.add("viewover__thumbnail-wrapper"),o.classList.add("viewover__thumbnail"),"img"===t.localName)return r=t.src,o.setAttribute("src",r),e.prev=7,e.next=10,o.decode();e.next=16;break;case 10:setThumbnailSize(n,o),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(7),console.log(e.t0);case 16:return"iframe"===t.localName&&(i=t.src.substr(t.src.lastIndexOf("/")+1),r="https://img.youtube.com/vi/".concat(i,"/mqdefault.jpg"),o.setAttribute("src",r),setPlayIcon(n,o)),"video"===t.localName&&(null!==(r=t.getAttribute("poster"))?(o.setAttribute("src",r),setPlayIcon(n,o)):(o.classList.add("viewover__alternate-thumbnail"),n.classList.add("viewover__alternate-thumbnail-wrapper"))),n.appendChild(o),e.abrupt("return",n);case 20:case"end":return e.stop()}},e,null,[[7,13]])}))).apply(this,arguments)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=handleThumbnails;var _showThumbnailsTrack=_interopRequireDefault(require("./showThumbnailsTrack.js")),_listenForThumbnailsEvents=_interopRequireDefault(require("./listenForThumbnailsEvents.js"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _regeneratorRuntime(){_regeneratorRuntime=function(){return a};var a={},e=Object.prototype,l=e.hasOwnProperty,c=Object.defineProperty||function(e,t,r){e[t]=r.value},t="function"==typeof Symbol?Symbol:{},n=t.iterator||"@@iterator",r=t.asyncIterator||"@@asyncIterator",o=t.toStringTag||"@@toStringTag";function i(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{i({},"")}catch(e){i=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var o,i,a,u,t=t&&t.prototype instanceof d?t:d,t=Object.create(t.prototype),n=new w(n||[]);return c(t,"_invoke",{value:(o=e,i=r,a=n,u="suspendedStart",function(e,t){if("executing"===u)throw new Error("Generator is already running");if("completed"===u){if("throw"===e)throw t;return E()}for(a.method=e,a.arg=t;;){var r=a.delegate;if(r){r=function e(t,r){var n=r.method,o=t.iterator[n];if(void 0===o)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=void 0,e(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;n=s(o,t.iterator,r.arg);if("throw"===n.type)return r.method="throw",r.arg=n.arg,r.delegate=null,h;o=n.arg;return o?o.done?(r[t.resultName]=o.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=void 0),r.delegate=null,h):o:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,h)}(r,a);if(r){if(r===h)continue;return r}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===u)throw u="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);u="executing";r=s(o,i,a);if("normal"===r.type){if(u=a.done?"completed":"suspendedYield",r.arg===h)continue;return{value:r.arg,done:a.done}}"throw"===r.type&&(u="completed",a.method="throw",a.arg=r.arg)}})}),t}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}a.wrap=u;var h={};function d(){}function f(){}function p(){}var t={},v=(i(t,n,function(){return this}),Object.getPrototypeOf),v=v&&v(v(x([]))),m=(v&&v!==e&&l.call(v,n)&&(t=v),p.prototype=d.prototype=Object.create(t));function y(e){["next","throw","return"].forEach(function(t){i(e,t,function(e){return this._invoke(t,e)})})}function g(a,u){var t;c(this,"_invoke",{value:function(r,n){function e(){return new u(function(e,t){!function t(e,r,n,o){var i,e=s(a[e],a,r);if("throw"!==e.type)return(r=(i=e.arg).value)&&"object"==_typeof(r)&&l.call(r,"__await")?u.resolve(r.__await).then(function(e){t("next",e,n,o)},function(e){t("throw",e,n,o)}):u.resolve(r).then(function(e){i.value=e,n(i)},function(e){return t("throw",e,n,o)});o(e.arg)}(r,n,e,t)})}return t=t?t.then(e,e):e()}})}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function b(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function w(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function x(t){if(t){var r,e=t[n];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return r=-1,(e=function e(){for(;++r<t.length;)if(l.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e}).next=e}return{next:E}}function E(){return{value:void 0,done:!0}}return c(m,"constructor",{value:f.prototype=p,configurable:!0}),c(p,"constructor",{value:f,configurable:!0}),f.displayName=i(p,o,"GeneratorFunction"),a.isGeneratorFunction=function(e){e="function"==typeof e&&e.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},a.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,i(e,o,"GeneratorFunction")),e.prototype=Object.create(m),e},a.awrap=function(e){return{__await:e}},y(g.prototype),i(g.prototype,r,function(){return this}),a.AsyncIterator=g,a.async=function(e,t,r,n,o){void 0===o&&(o=Promise);var i=new g(u(e,t,r,n),o);return a.isGeneratorFunction(t)?i:i.next().then(function(e){return e.done?e.value:i.next()})},y(m),i(m,o,"Generator"),i(m,n,function(){return this}),i(m,"toString",function(){return"[object Generator]"}),a.keys=function(e){var t,r=Object(e),n=[];for(t in r)n.push(t);return n.reverse(),function e(){for(;n.length;){var t=n.pop();if(t in r)return e.value=t,e.done=!1,e}return e.done=!0,e}},a.values=x,w.prototype={constructor:w,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(b),!e)for(var t in this)"t"===t.charAt(0)&&l.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(r){if(this.done)throw r;var n=this;function e(e,t){return i.type="throw",i.arg=r,n.next=e,t&&(n.method="next",n.arg=void 0),!!t}for(var t=this.tryEntries.length-1;0<=t;--t){var o=this.tryEntries[t],i=o.completion;if("root"===o.tryLoc)return e("end");if(o.tryLoc<=this.prev){var a=l.call(o,"catchLoc"),u=l.call(o,"finallyLoc");if(a&&u){if(this.prev<o.catchLoc)return e(o.catchLoc,!0);if(this.prev<o.finallyLoc)return e(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return e(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return e(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;0<=r;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&l.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}var i=(o=o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc?null:o)?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),b(r),h}},catch:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var r,n,o=this.tryEntries[t];if(o.tryLoc===e)return"throw"===(r=o.completion).type&&(n=r.arg,b(o)),n}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:x(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),h}},a}function asyncGeneratorStep(e,t,r,n,o,i,a){try{var u=e[i](a),l=u.value}catch(e){return void r(e)}u.done?t(l):Promise.resolve(l).then(n,o)}function _asyncToGenerator(u){return function(){var e=this,a=arguments;return new Promise(function(t,r){var n=u.apply(e,a);function o(e){asyncGeneratorStep(n,t,r,o,i,"next",e)}function i(e){asyncGeneratorStep(n,t,r,o,i,"throw",e)}o(void 0)})}}function handleThumbnails(e,t){return _handleThumbnails.apply(this,arguments)}function _handleThumbnails(){return(_handleThumbnails=_asyncToGenerator(_regeneratorRuntime().mark(function e(t,r){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,_showThumbnailsTrack.default)(t,r);case 2:(0,_listenForThumbnailsEvents.default)();case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.setScrollbarHeight=exports.scrollThumbnailToViewport=void 0;var _docConstants=require("../../document/docConstants.js"),scrollThumbnailToViewport=function(e){var t=e.getBoundingClientRect().right+23>window.innerWidth;e.getBoundingClientRect().left<23&&(_docConstants.viewoverThumbnailsTrack.scrollLeft-=window.innerWidth-e.getBoundingClientRect().right-23),t&&(_docConstants.viewoverThumbnailsTrack.scrollLeft+=e.getBoundingClientRect().left-23)},setScrollbarHeight=(exports.scrollThumbnailToViewport=scrollThumbnailToViewport,function(){_docConstants.viewoverThumbnailsTrack.offsetWidth<_docConstants.viewoverThumbnailsTrack.scrollWidth?_docConstants.viewoverContainer.style.setProperty("--viewover-thumbnails-track-scroll-height","10px"):_docConstants.viewoverContainer.style.setProperty("--viewover-thumbnails-track-scroll-height","0px")}),_docConstants=(exports.setScrollbarHeight=setScrollbarHeight,Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=listenForThumbnailsEvents,require("../../document/docConstants.js")),_createMediaElement=require("../mainContent/createMediaElement.js"),_setActiveMainElement=_interopRequireDefault(require("../mainContent/setActiveMainElement.js")),_showActiveThumbnailContent=_interopRequireDefault(require("./showActiveThumbnailContent.js")),_toggleActiveThumbnail=_interopRequireDefault(require("./toggleActiveThumbnail.js")),_handleThumbnailsOverflow=require("./handleThumbnailsOverflow.js");function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){var r;if(e)return"string"==typeof e?_arrayLikeToArray(e,t):"Map"===(r="Object"===(r=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(e,t):void 0}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function listenForThumbnailsEvents(){for(var a=_toConsumableArray(_docConstants.viewoverThumbnailsTrack.children),u=0;u<a.length;u++)!function(){var e,t,r,n=a[u],o=n.querySelector(".viewover__thumbnail"),i=o.getAttribute("data-viewover-thumbnail-type");"img"===i?(e=o.getAttribute("data-viewover-thumbnail-src"),n.addEventListener("click",function(){if("img"===_createMediaElement.activeMainElement.element.localName){if(_createMediaElement.activeMainElement.element.src===e)return;(0,_showActiveThumbnailContent.default)(e)}else(0,_setActiveMainElement.default)("img",e);(0,_toggleActiveThumbnail.default)(n),(0,_handleThumbnailsOverflow.scrollThumbnailToViewport)(n)})):"video"===i?(t=o.getAttribute("data-viewover-thumbnail-src"),n.addEventListener("click",function(e){if("video"===_createMediaElement.activeMainElement.element.localName){if(_createMediaElement.activeMainElement.element.currentSrc===t)return;(0,_showActiveThumbnailContent.default)(t)}else(0,_setActiveMainElement.default)("video",t);(0,_toggleActiveThumbnail.default)(n,a),(0,_handleThumbnailsOverflow.scrollThumbnailToViewport)(n)})):"iframe"===i&&(r=o.getAttribute("data-viewover-thumbnail-src"),n.addEventListener("click",function(e){if("iframe"===_createMediaElement.activeMainElement.element.localName){if(_createMediaElement.activeMainElement.element.src===r)return;(0,_showActiveThumbnailContent.default)(r)}else(0,_setActiveMainElement.default)("iframe",r);(0,_toggleActiveThumbnail.default)(n,a),(0,_handleThumbnailsOverflow.scrollThumbnailToViewport)(n)}))}()}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=showActiveThumbnailContent;_createMediaElement=require("../mainContent/createMediaElement.js");function showActiveThumbnailContent(e){"video"===_createMediaElement.activeMainElement.element.localName?(_createMediaElement.activeMainElement.element.querySelector("source").setAttribute("src",e),_createMediaElement.activeMainElement.element.load()):_createMediaElement.activeMainElement.element.setAttribute("src",e)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=showThumbnailsTrack;var thumbnailWrapper,thumbnailElement,_docConstants=require("../../document/docConstants.js"),_toggleButtonIcon=_interopRequireDefault(require("../controlbar/toggleButtonIcon.js")),_createThumbnail=_interopRequireDefault(require("./createThumbnail.js"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _regeneratorRuntime(){_regeneratorRuntime=function(){return a};var a={},e=Object.prototype,l=e.hasOwnProperty,c=Object.defineProperty||function(e,t,r){e[t]=r.value},t="function"==typeof Symbol?Symbol:{},n=t.iterator||"@@iterator",r=t.asyncIterator||"@@asyncIterator",o=t.toStringTag||"@@toStringTag";function i(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{i({},"")}catch(e){i=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var o,i,a,u,t=t&&t.prototype instanceof d?t:d,t=Object.create(t.prototype),n=new w(n||[]);return c(t,"_invoke",{value:(o=e,i=r,a=n,u="suspendedStart",function(e,t){if("executing"===u)throw new Error("Generator is already running");if("completed"===u){if("throw"===e)throw t;return E()}for(a.method=e,a.arg=t;;){var r=a.delegate;if(r){r=function e(t,r){var n=r.method,o=t.iterator[n];if(void 0===o)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=void 0,e(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;n=s(o,t.iterator,r.arg);if("throw"===n.type)return r.method="throw",r.arg=n.arg,r.delegate=null,h;o=n.arg;return o?o.done?(r[t.resultName]=o.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=void 0),r.delegate=null,h):o:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,h)}(r,a);if(r){if(r===h)continue;return r}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===u)throw u="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);u="executing";r=s(o,i,a);if("normal"===r.type){if(u=a.done?"completed":"suspendedYield",r.arg===h)continue;return{value:r.arg,done:a.done}}"throw"===r.type&&(u="completed",a.method="throw",a.arg=r.arg)}})}),t}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}a.wrap=u;var h={};function d(){}function f(){}function p(){}var t={},v=(i(t,n,function(){return this}),Object.getPrototypeOf),v=v&&v(v(x([]))),m=(v&&v!==e&&l.call(v,n)&&(t=v),p.prototype=d.prototype=Object.create(t));function y(e){["next","throw","return"].forEach(function(t){i(e,t,function(e){return this._invoke(t,e)})})}function g(a,u){var t;c(this,"_invoke",{value:function(r,n){function e(){return new u(function(e,t){!function t(e,r,n,o){var i,e=s(a[e],a,r);if("throw"!==e.type)return(r=(i=e.arg).value)&&"object"==_typeof(r)&&l.call(r,"__await")?u.resolve(r.__await).then(function(e){t("next",e,n,o)},function(e){t("throw",e,n,o)}):u.resolve(r).then(function(e){i.value=e,n(i)},function(e){return t("throw",e,n,o)});o(e.arg)}(r,n,e,t)})}return t=t?t.then(e,e):e()}})}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function b(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function w(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function x(t){if(t){var r,e=t[n];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return r=-1,(e=function e(){for(;++r<t.length;)if(l.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e}).next=e}return{next:E}}function E(){return{value:void 0,done:!0}}return c(m,"constructor",{value:f.prototype=p,configurable:!0}),c(p,"constructor",{value:f,configurable:!0}),f.displayName=i(p,o,"GeneratorFunction"),a.isGeneratorFunction=function(e){e="function"==typeof e&&e.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},a.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,i(e,o,"GeneratorFunction")),e.prototype=Object.create(m),e},a.awrap=function(e){return{__await:e}},y(g.prototype),i(g.prototype,r,function(){return this}),a.AsyncIterator=g,a.async=function(e,t,r,n,o){void 0===o&&(o=Promise);var i=new g(u(e,t,r,n),o);return a.isGeneratorFunction(t)?i:i.next().then(function(e){return e.done?e.value:i.next()})},y(m),i(m,o,"Generator"),i(m,n,function(){return this}),i(m,"toString",function(){return"[object Generator]"}),a.keys=function(e){var t,r=Object(e),n=[];for(t in r)n.push(t);return n.reverse(),function e(){for(;n.length;){var t=n.pop();if(t in r)return e.value=t,e.done=!1,e}return e.done=!0,e}},a.values=x,w.prototype={constructor:w,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(b),!e)for(var t in this)"t"===t.charAt(0)&&l.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(r){if(this.done)throw r;var n=this;function e(e,t){return i.type="throw",i.arg=r,n.next=e,t&&(n.method="next",n.arg=void 0),!!t}for(var t=this.tryEntries.length-1;0<=t;--t){var o=this.tryEntries[t],i=o.completion;if("root"===o.tryLoc)return e("end");if(o.tryLoc<=this.prev){var a=l.call(o,"catchLoc"),u=l.call(o,"finallyLoc");if(a&&u){if(this.prev<o.catchLoc)return e(o.catchLoc,!0);if(this.prev<o.finallyLoc)return e(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return e(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return e(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;0<=r;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&l.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}var i=(o=o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc?null:o)?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),b(r),h}},catch:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var r,n,o=this.tryEntries[t];if(o.tryLoc===e)return"throw"===(r=o.completion).type&&(n=r.arg,b(o)),n}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:x(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),h}},a}function asyncGeneratorStep(e,t,r,n,o,i,a){try{var u=e[i](a),l=u.value}catch(e){return void r(e)}u.done?t(l):Promise.resolve(l).then(n,o)}function _asyncToGenerator(u){return function(){var e=this,a=arguments;return new Promise(function(t,r){var n=u.apply(e,a);function o(e){asyncGeneratorStep(n,t,r,o,i,"next",e)}function i(e){asyncGeneratorStep(n,t,r,o,i,"throw",e)}o(void 0)})}}function showThumbnailsTrack(e,t){return _showThumbnailsTrack.apply(this,arguments)}function _showThumbnailsTrack(){return(_showThumbnailsTrack=_asyncToGenerator(_regeneratorRuntime().mark(function e(t,r){var n,o;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r?(_docConstants.viewoverContainer.style.setProperty("--thumbnails-track-height",_docConstants.thumbnailsTrackHeight),(0,_toggleButtonIcon.default)(_docConstants.thumbnailsShowButton,_docConstants.thumbnailsHideButton)):(0,_toggleButtonIcon.default)(_docConstants.thumbnailsHideButton,_docConstants.thumbnailsShowButton),n=0;case 2:if(n<t.length){if("img"===(o=t[n]).localName)return e.next=7,(0,_createThumbnail.default)(o);e.next=11}else e.next=29;break;case 7:thumbnailWrapper=e.sent,(thumbnailElement=thumbnailWrapper.querySelector(".viewover__thumbnail")).setAttribute("data-viewover-thumbnail-src",o.src),thumbnailElement.setAttribute("data-viewover-thumbnail-type","img");case 11:if("video"===o.localName)return e.next=14,(0,_createThumbnail.default)(o);e.next=18;break;case 14:thumbnailWrapper=e.sent,(thumbnailElement=thumbnailWrapper.querySelector(".viewover__thumbnail")).setAttribute("data-viewover-thumbnail-src",o.currentSrc),thumbnailElement.setAttribute("data-viewover-thumbnail-type","video");case 18:if("iframe"===o.localName)return e.next=21,(0,_createThumbnail.default)(o);e.next=25;break;case 21:thumbnailWrapper=e.sent,(thumbnailElement=thumbnailWrapper.querySelector(".viewover__thumbnail")).setAttribute("data-viewover-thumbnail-src",o.src),thumbnailElement.setAttribute("data-viewover-thumbnail-type","iframe");case 25:_docConstants.viewoverThumbnailsTrack.appendChild(thumbnailWrapper);case 26:n++,e.next=2;break;case 29:case"end":return e.stop()}},e)}))).apply(this,arguments)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=toggleActiveThumbnail;_createMediaElement=require("../mainContent/createMediaElement.js"),_docConstants=require("../../document/docConstants.js");function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){var r;if(e)return"string"==typeof e?_arrayLikeToArray(e,t):"Map"===(r="Object"===(r=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(e,t):void 0}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function toggleActiveThumbnail(e){var t=_toConsumableArray(_docConstants.viewoverThumbnailsTrack.children),r=_createMediaElement.activeMainElement.element.src||_createMediaElement.activeMainElement.element.currentSrc;t.filter(function(e){return e.querySelector(".viewover__thumbnail").getAttribute("data-viewover-thumbnail-src")!==r}).map(function(e){return e.classList.remove("viewover__thumbnail-wrapper_active")}),e.classList.add("viewover__thumbnail-wrapper_active")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=toggleThumbnailsMode;_docConstants=require("../../document/docConstants.js"),_toggleButtonIcon=_interopRequireDefault(require("../controlbar/toggleButtonIcon.js")),_handleThumbnailsOverflow=require("./handleThumbnailsOverflow.js");function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function toggleThumbnailsMode(){_docConstants.viewoverContainer.style.getPropertyValue("--thumbnails-track-height")==_docConstants.thumbnailsTrackHeight?((0,_toggleButtonIcon.default)(_docConstants.thumbnailsHideButton,_docConstants.thumbnailsShowButton),_docConstants.viewoverThumbnailsTrack.classList.remove("viewover__thumbnails-track_visible"),_docConstants.viewoverContainer.style.setProperty("--thumbnails-track-height","0px"),_docConstants.viewoverContainer.style.setProperty("--viewover-thumbnails-track-margin","0px")):((0,_toggleButtonIcon.default)(_docConstants.thumbnailsShowButton,_docConstants.thumbnailsHideButton),_docConstants.viewoverContainer.style.setProperty("--thumbnails-track-height",_docConstants.thumbnailsTrackHeight),_docConstants.viewoverContainer.style.setProperty("--viewover-thumbnails-track-margin","20px"),_docConstants.viewoverThumbnailsTrack.classList.add("viewover__thumbnails-track_visible")),(0,_handleThumbnailsOverflow.setScrollbarHeight)()}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=closeViewover;_createDialog=_interopRequireDefault(require("../../document/createDialog.js")),_resetViewoverContent=_interopRequireDefault(require("./resetViewoverContent.js"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function closeViewover(){_createDialog.default.hasAttribute("open")&&document.addEventListener("keydown",function(e){"Escape"===e.key&&(0,_resetViewoverContent.default)()})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=resetViewoverContent;var _docConstants=require("../../document/docConstants.js"),_createMediaElement=require("../mainContent/createMediaElement.js"),_scrollControl=require("../../utils/scroll-control.js"),_handleArrowNav=_interopRequireDefault(require("../turnOnViewover/handleArrowNav.js")),_handleWheelNav=_interopRequireDefault(require("../turnOnViewover/handleWheelNav.js")),_toggleFullScreenMode=_interopRequireDefault(require("../controlbar/toggleFullScreenMode.js")),_toggleButtonIcon=_interopRequireDefault(require("../controlbar/toggleButtonIcon.js")),_handleZoom=require("../controlbar/handleZoom.js");function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){var r;if(e)return"string"==typeof e?_arrayLikeToArray(e,t):"Map"===(r="Object"===(r=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(e,t):void 0}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var removeAllChildNodes=function(e){for(;e.firstChild;)e.removeChild(e.firstChild)};function resetViewoverContent(){_toConsumableArray(_docConstants.viewoverMediaWrapper.children).forEach(function(e){e.classList.contains("button")||e.remove()}),removeAllChildNodes(_docConstants.viewoverThumbnailsTrack),(0,_scrollControl.enableScroll)(),document.removeEventListener("keydown",_handleArrowNav.default),_docConstants.viewoverMainContent.removeEventListener("wheel",_handleWheelNav.default),_docConstants.viewoverMediaWrapper.removeEventListener("dblclick",_toggleFullScreenMode.default),_createMediaElement.activeMainElement.element.removeEventListener("wheel",_handleZoom.handleZoomWheel),(0,_toggleButtonIcon.default)(_docConstants.thumbnailsHideButton,_docConstants.thumbnailsShowButton),_docConstants.viewoverThumbnailsTrack.classList.remove("viewover__thumbnails-track_visible"),_docConstants.viewoverContainer.style.setProperty("--thumbnails-track-height","0px"),_docConstants.viewoverContainer.style.setProperty("--viewover-thumbnails-track-margin","0px"),delete _createMediaElement.activeMainElement.element,viewover.close()}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=checkElementsTypes;var mediaElementType,_customErrors=require("../../utils/customErrors.js");function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){var r;if(e)return"string"==typeof e?_arrayLikeToArray(e,t):"Map"===(r="Object"===(r=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(e,t):void 0}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var checkChildMediaElement=function(e,t){e=_toConsumableArray(e.children).find(function(e){return t.includes(e.localName)});if(null===e)throw _customErrors.unauthorizedError.message="Element must contain an image, video or iframe",_customErrors.unauthorizedError;mediaElementType=e.localName};function checkElementsTypes(e,t,r){for(var n=0;n<e.length;n++){var o=e[n];t.includes(o.localName)&&(mediaElementType=o.localName),"div"===o.localName&&checkChildMediaElement(o,t),r.includes(mediaElementType)||r.push(mediaElementType)}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=checkMediaElementsTypes;var _checkElementsTypes=_interopRequireDefault(require("./checkElementsTypes.js"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function checkMediaElementsTypes(e){var t=new Array;return(0,_checkElementsTypes.default)(e,["img","video","iframe"],t),t}function getElementTarget(e){return e.target.classList.contains("viewover-open-button")?e.target.parentElement.querySelector("video")?e.target.parentElement.querySelector("video"):e.target.parentElement.querySelector("iframe")?e.target.parentElement.querySelector("iframe"):void 0:e.target}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=getElementTarget,Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=getInitialMedia;_setActiveMainElement=_interopRequireDefault(require("../mainContent/setActiveMainElement.js"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var getInitialMediaSrc=function(e,t){e=e.src||e.currentSrc;(0,_setActiveMainElement.default)(t,e)};function getInitialMedia(e,t){1===e.length&&(e.includes("img")&&getInitialMediaSrc(t,"img"),e.includes("iframe")&&getInitialMediaSrc(t,"iframe"),e.includes("video"))&&getInitialMediaSrc(t,"video"),1!==e.length&&getInitialMediaSrc(t,t.localName)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=handleArrowNav;var _handleNextElement=_interopRequireDefault(require("../controlbar/handleNextElement.js")),_handlePreviousElement=_interopRequireDefault(require("../controlbar/handlePreviousElement.js")),_openViewover=require("./openViewover.js");function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function handleArrowNav(e){e.preventDefault(),"ArrowLeft"===e.key&&(0,_handlePreviousElement.default)(_openViewover.mediaElements.preparedMediaElements),"ArrowRight"===e.key&&(0,_handleNextElement.default)(_openViewover.mediaElements.preparedMediaElements)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=handleScrollByMouseover;var _docConstants=require("../../document/docConstants.js"),_createMediaElement=require("../mainContent/createMediaElement.js"),oldx=0,oldy=0;function handleScrollByMouseover(e){_createMediaElement.activeMainElement.element.getBoundingClientRect(),_docConstants.viewoverMediaWrapper.getBoundingClientRect();e.pageX<oldx&&(_docConstants.viewoverMediaWrapper.scrollLeft+=15),e.pageX>oldx&&(_docConstants.viewoverMediaWrapper.scrollLeft-=15),e.pageY<oldy&&(_docConstants.viewoverMediaWrapper.scrollTop+=15),e.pageY>oldy&&(_docConstants.viewoverMediaWrapper.scrollTop-=15),oldx+=e.pageX,oldy=e.pageY}Object.defineProperty(exports,"__esModule",{value:!0}),exports.handleTouchSwipeNav=void 0;_docConstants=require("../../document/docConstants.js"),_handleNextElement=_interopRequireDefault(require("../controlbar/handleNextElement.js")),_handlePreviousElement=_interopRequireDefault(require("../controlbar/handlePreviousElement.js")),_openViewover=require("./openViewover.js");function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var handleTouchSwipeNav={touches:{touchstart:{x:-1,y:-1},touchmove:{x:-1,y:-1},touchend:!1,direction:"undetermined"},touchHandler:function(e){var t;if(void 0!==e&&void 0!==e.touches)switch(t=e.touches[0],e.type){case"touchstart":case"touchmove":handleTouchSwipeNav.touches[e.type].x=t.pageX,handleTouchSwipeNav.touches[e.type].y=t.pageY;break;case"touchend":handleTouchSwipeNav.touches.touchend=!0,-1<handleTouchSwipeNav.touches.touchstart.x&&-1<handleTouchSwipeNav.touches.touchmove.x&&(handleTouchSwipeNav.touches.direction=handleTouchSwipeNav.touches.touchstart.x<handleTouchSwipeNav.touches.touchmove.x?"right":"left","right"===handleTouchSwipeNav.touches.direction&&(0,_handlePreviousElement.default)(_openViewover.mediaElements.preparedMediaElements),"left"===handleTouchSwipeNav.touches.direction)&&(0,_handleNextElement.default)(_openViewover.mediaElements.preparedMediaElements)}},init:function(){_docConstants.viewoverMainContent.addEventListener("touchstart",handleTouchSwipeNav.touchHandler,!1),_docConstants.viewoverMainContent.addEventListener("touchmove",handleTouchSwipeNav.touchHandler,!1),_docConstants.viewoverMainContent.addEventListener("touchend",handleTouchSwipeNav.touchHandler,!1)}},_handleNextElement=(exports.handleTouchSwipeNav=handleTouchSwipeNav,Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=handleWheelNav,_interopRequireDefault(require("../controlbar/handleNextElement.js"))),_handlePreviousElement=_interopRequireDefault(require("../controlbar/handlePreviousElement.js")),_openViewover=require("./openViewover.js");function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function handleWheelNav(e){console.log(e.target),e.ctrlKey||e.shiftKey||(0<e.deltaY&&(0,_handleNextElement.default)(_openViewover.mediaElements.preparedMediaElements),e.deltaY<0&&(0,_handlePreviousElement.default)(_openViewover.mediaElements.preparedMediaElements))}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.openViewover=exports.mediaElements=void 0;var _createDialog=_interopRequireDefault(require("../../document/createDialog.js")),_getElementTarget=_interopRequireDefault(require("./getElementTarget.js")),_prepareMediaElements=_interopRequireDefault(require("./prepareMediaElements.js")),_checkMediaElementsTypes=_interopRequireDefault(require("./checkMediaElementsTypes.js")),_getInitialMedia=_interopRequireDefault(require("./getInitialMedia.js")),_scrollControl=require("../../utils/scroll-control.js"),_docConstants=require("../../document/docConstants.js"),_handleTouchSwipeNav=require("./handleTouchSwipeNav.js"),_handleArrowNav=_interopRequireDefault(require("./handleArrowNav.js")),_handleWheelNav=_interopRequireDefault(require("./handleWheelNav.js")),_handleNextElement=_interopRequireDefault(require("../controlbar/handleNextElement.js")),_handlePreviousElement=_interopRequireDefault(require("../controlbar/handlePreviousElement.js")),_toggleFullScreenMode=_interopRequireDefault(require("../controlbar/toggleFullScreenMode.js")),_handleThumbnails=_interopRequireDefault(require("../thumbnailsTrack/handleThumbnails.js")),_toggleThumbnailsMode=_interopRequireDefault(require("../thumbnailsTrack/toggleThumbnailsMode.js")),_toggleActiveThumbnail=_interopRequireDefault(require("../thumbnailsTrack/toggleActiveThumbnail.js")),_handleThumbnailsOverflow=require("../thumbnailsTrack/handleThumbnailsOverflow.js"),_controlbarAddEvents=_interopRequireDefault(require("../controlbar/controlbarAddEvents.js"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _regeneratorRuntime(){_regeneratorRuntime=function(){return a};var a={},e=Object.prototype,l=e.hasOwnProperty,c=Object.defineProperty||function(e,t,r){e[t]=r.value},t="function"==typeof Symbol?Symbol:{},n=t.iterator||"@@iterator",r=t.asyncIterator||"@@asyncIterator",o=t.toStringTag||"@@toStringTag";function i(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{i({},"")}catch(e){i=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var o,i,a,u,t=t&&t.prototype instanceof d?t:d,t=Object.create(t.prototype),n=new w(n||[]);return c(t,"_invoke",{value:(o=e,i=r,a=n,u="suspendedStart",function(e,t){if("executing"===u)throw new Error("Generator is already running");if("completed"===u){if("throw"===e)throw t;return E()}for(a.method=e,a.arg=t;;){var r=a.delegate;if(r){r=function e(t,r){var n=r.method,o=t.iterator[n];if(void 0===o)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=void 0,e(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;n=s(o,t.iterator,r.arg);if("throw"===n.type)return r.method="throw",r.arg=n.arg,r.delegate=null,h;o=n.arg;return o?o.done?(r[t.resultName]=o.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=void 0),r.delegate=null,h):o:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,h)}(r,a);if(r){if(r===h)continue;return r}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===u)throw u="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);u="executing";r=s(o,i,a);if("normal"===r.type){if(u=a.done?"completed":"suspendedYield",r.arg===h)continue;return{value:r.arg,done:a.done}}"throw"===r.type&&(u="completed",a.method="throw",a.arg=r.arg)}})}),t}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}a.wrap=u;var h={};function d(){}function f(){}function p(){}var t={},v=(i(t,n,function(){return this}),Object.getPrototypeOf),v=v&&v(v(x([]))),m=(v&&v!==e&&l.call(v,n)&&(t=v),p.prototype=d.prototype=Object.create(t));function y(e){["next","throw","return"].forEach(function(t){i(e,t,function(e){return this._invoke(t,e)})})}function g(a,u){var t;c(this,"_invoke",{value:function(r,n){function e(){return new u(function(e,t){!function t(e,r,n,o){var i,e=s(a[e],a,r);if("throw"!==e.type)return(r=(i=e.arg).value)&&"object"==_typeof(r)&&l.call(r,"__await")?u.resolve(r.__await).then(function(e){t("next",e,n,o)},function(e){t("throw",e,n,o)}):u.resolve(r).then(function(e){i.value=e,n(i)},function(e){return t("throw",e,n,o)});o(e.arg)}(r,n,e,t)})}return t=t?t.then(e,e):e()}})}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function b(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function w(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function x(t){if(t){var r,e=t[n];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return r=-1,(e=function e(){for(;++r<t.length;)if(l.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e}).next=e}return{next:E}}function E(){return{value:void 0,done:!0}}return c(m,"constructor",{value:f.prototype=p,configurable:!0}),c(p,"constructor",{value:f,configurable:!0}),f.displayName=i(p,o,"GeneratorFunction"),a.isGeneratorFunction=function(e){e="function"==typeof e&&e.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},a.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,i(e,o,"GeneratorFunction")),e.prototype=Object.create(m),e},a.awrap=function(e){return{__await:e}},y(g.prototype),i(g.prototype,r,function(){return this}),a.AsyncIterator=g,a.async=function(e,t,r,n,o){void 0===o&&(o=Promise);var i=new g(u(e,t,r,n),o);return a.isGeneratorFunction(t)?i:i.next().then(function(e){return e.done?e.value:i.next()})},y(m),i(m,o,"Generator"),i(m,n,function(){return this}),i(m,"toString",function(){return"[object Generator]"}),a.keys=function(e){var t,r=Object(e),n=[];for(t in r)n.push(t);return n.reverse(),function e(){for(;n.length;){var t=n.pop();if(t in r)return e.value=t,e.done=!1,e}return e.done=!0,e}},a.values=x,w.prototype={constructor:w,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(b),!e)for(var t in this)"t"===t.charAt(0)&&l.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(r){if(this.done)throw r;var n=this;function e(e,t){return i.type="throw",i.arg=r,n.next=e,t&&(n.method="next",n.arg=void 0),!!t}for(var t=this.tryEntries.length-1;0<=t;--t){var o=this.tryEntries[t],i=o.completion;if("root"===o.tryLoc)return e("end");if(o.tryLoc<=this.prev){var a=l.call(o,"catchLoc"),u=l.call(o,"finallyLoc");if(a&&u){if(this.prev<o.catchLoc)return e(o.catchLoc,!0);if(this.prev<o.finallyLoc)return e(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return e(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return e(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;0<=r;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&l.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}var i=(o=o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc?null:o)?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),b(r),h}},catch:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var r,n,o=this.tryEntries[t];if(o.tryLoc===e)return"throw"===(r=o.completion).type&&(n=r.arg,b(o)),n}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:x(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),h}},a}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){var r;if(e)return"string"==typeof e?_arrayLikeToArray(e,t):"Map"===(r="Object"===(r=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(e,t):void 0}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function asyncGeneratorStep(e,t,r,n,o,i,a){try{var u=e[i](a),l=u.value}catch(e){return void r(e)}u.done?t(l):Promise.resolve(l).then(n,o)}function _asyncToGenerator(u){return function(){var e=this,a=arguments;return new Promise(function(t,r){var n=u.apply(e,a);function o(e){asyncGeneratorStep(n,t,r,o,i,"next",e)}function i(e){asyncGeneratorStep(n,t,r,o,i,"throw",e)}o(void 0)})}}var mediaElements={},openViewover=(exports.mediaElements=mediaElements,function(){var r=_asyncToGenerator(_regeneratorRuntime().mark(function e(t,r){var n,o,i;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=(0,_getElementTarget.default)(t),n=i.src||i.currentSrc,mediaElements.preparedMediaElements=(0,_prepareMediaElements.default)(i),o=(0,_checkMediaElementsTypes.default)(mediaElements.preparedMediaElements),mediaElements.enableZoom=r.zoom,(0,_getInitialMedia.default)(o,i),_docConstants.nextButton.onclick=function(){(0,_handleNextElement.default)(mediaElements.preparedMediaElements)},_docConstants.previousButton.onclick=function(){(0,_handlePreviousElement.default)(mediaElements.preparedMediaElements)},document.addEventListener("keydown",_handleArrowNav.default),_handleTouchSwipeNav.handleTouchSwipeNav.init(),_docConstants.thumbnailsShowButton.addEventListener("click",_toggleThumbnailsMode.default),_docConstants.thumbnailsHideButton.addEventListener("click",_toggleThumbnailsMode.default),1==r.fullscreen?(_docConstants.fullscreenEntryButton.addEventListener("click",_toggleFullScreenMode.default),_docConstants.fullscreenExitButton.addEventListener("click",_toggleFullScreenMode.default),_docConstants.viewoverMediaWrapper.addEventListener("dblclick",_toggleFullScreenMode.default)):_docConstants.fullscreenButtons.classList.add("viewover__fullscreen-buttons_hidden"),(0,_scrollControl.disableScroll)(),_createDialog.default.showModal(),(0,_controlbarAddEvents.default)(r),1==r.thumbnails)return e.next=19,(0,_handleThumbnails.default)(mediaElements.preparedMediaElements,!1);e.next=26;break;case 19:o=_toConsumableArray(_docConstants.viewoverThumbnailsTrack.children),i=o.find(function(e){return e.querySelector(".viewover__thumbnail").getAttribute("data-viewover-thumbnail-src")===n}),(0,_toggleActiveThumbnail.default)(i),(0,_handleThumbnailsOverflow.setScrollbarHeight)(),(0,_handleThumbnailsOverflow.scrollThumbnailToViewport)(i),e.next=27;break;case 26:_docConstants.thumbnailsButtons.classList.add("viewover__thumbnails-buttons_hidden");case 27:case"end":return e.stop()}},e)}));return function(e,t){return r.apply(this,arguments)}}());function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){var r;if(e)return"string"==typeof e?_arrayLikeToArray(e,t):"Map"===(r="Object"===(r=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(e,t):void 0}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function prepareMediaElements(e){for(var t=[],r=_toConsumableArray(e.closest("[data-viewover-list]").children),n=0;n<r.length;n++){var o=r[n],i=void 0,i=o.classList.contains("viewover-video-wrapper")?o.querySelector("video"):o.classList.contains("viewover-iframe-wrapper")?o.querySelector("iframe"):o;t.push(i)}return t}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){var r;if(e)return"string"==typeof e?_arrayLikeToArray(e,t):"Map"===(r="Object"===(r=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(e,t):void 0}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}exports.openViewover=openViewover,Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=prepareMediaElements,Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=addOpenViewoverButton;var mediaList,allMediaList=document.querySelectorAll("[data-viewover-list]");function addOpenViewoverButton(){for(var e=0;e<allMediaList.length;e++){mediaList=_toConsumableArray(allMediaList[e].children);for(var a=0;a<mediaList.length;a++)!function(){var t,e,r,n,o,i=mediaList[a];i.setAttribute("data-viewover-item",""),"video"===i.localName&&(n=i.parentElement,t=document.createElement("div"),e=document.createElement("button"),t.classList.add("viewover-video-wrapper"),e.classList.add("viewover-open-button"),e.setAttribute("data-viewover","video-button"),i.removeAttribute("controls"),r=function(){e.classList.toggle("viewover-open-button_hidden")},i.addEventListener("mouseenter",function(){i.setAttribute("controls","")}),i.addEventListener("mouseout",function(e){e.currentTarget==!t&&i.removeAttribute("controls")}),t.addEventListener("mouseenter",function(){i.setAttribute("controls","")}),t.addEventListener("mouseout",function(e){i.removeAttribute("controls")}),i.addEventListener("play",r),i.addEventListener("pause",r),i.offsetWidth,n.replaceChild(t,i),t.appendChild(i),t.appendChild(e)),"iframe"===i.localName&&(r=i.parentElement,n=document.createElement("div"),o=document.createElement("button"),n.classList.add("viewover-iframe-wrapper"),o.classList.add("viewover-open-button"),o.setAttribute("data-viewover","video-button"),i.offsetWidth,r.replaceChild(n,i),n.appendChild(i),n.appendChild(o))}()}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.applyViewoverOnDoc=applyViewoverOnDoc,exports.mediaItems=void 0;var _openViewover=require("../viewover/turnOnViewover/openViewover.js"),_addOpenViewoverButton=_interopRequireDefault(require("./addOpenViewoverButton.js"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){var r;if(e)return"string"==typeof e?_arrayLikeToArray(e,t):"Map"===(r="Object"===(r=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(e,t):void 0}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}(0,_addOpenViewoverButton.default)();var mediaItems=_toConsumableArray(document.querySelectorAll("[data-viewover-item]"));function applyViewoverOnDoc(t){for(var e=0;e<mediaItems.length;e++){var r=mediaItems[e];"video"!==r.localName&&"iframe"!==r.localName&&(r.style.cursor="pointer",r.onclick=function(e){(0,_openViewover.openViewover)(e,t)}),"video"!==r.localName&&"iframe"!==r.localName||(r.parentElement.querySelector(".viewover-open-button").onclick=function(e){(0,_openViewover.openViewover)(e,t)})}}exports.mediaItems=mediaItems,Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var viewover,_dialogContent=require("../utils/dialogContent.js"),_default=((viewover=document.createElement("dialog")).setAttribute("id","viewover"),viewover.classList.add("viewover"),viewover.innerHTML=_dialogContent.dialogContent,document.body.appendChild(viewover),viewover),controlBar=(exports.default=_default,Object.defineProperty(exports,"__esModule",{value:!0}),exports.zoomOutButton=exports.zoomInButton=exports.viewoverThumbnailsTrack=exports.viewoverMediaWrapper=exports.viewoverMainContent=exports.viewoverContent=exports.viewoverContainer=exports.thumbnailsTrackHeight=exports.thumbnailsShowButton=exports.thumbnailsHideButton=exports.thumbnailsButtons=exports.previousButton=exports.nextButton=exports.fullscreenExitButton=exports.fullscreenEntryButton=exports.fullscreenButtons=exports.controlBar=exports.closeButton=void 0,document.getElementById("control-bar")),nextButton=(exports.controlBar=controlBar,document.getElementById("nav-next-button")),previousButton=(exports.nextButton=nextButton,document.getElementById("nav-previous-button")),zoomInButton=(exports.previousButton=previousButton,document.getElementById("zoom-in-button")),zoomOutButton=(exports.zoomInButton=zoomInButton,document.getElementById("zoom-out-button")),closeButton=(exports.zoomOutButton=zoomOutButton,document.getElementById("close-button")),fullscreenButtons=(exports.closeButton=closeButton,document.getElementById("fullscreen-buttons")),fullscreenEntryButton=(exports.fullscreenButtons=fullscreenButtons,document.getElementById("fullscreen-entry-button")),fullscreenExitButton=(exports.fullscreenEntryButton=fullscreenEntryButton,document.getElementById("fullscreen-exit-button")),viewoverContainer=(exports.fullscreenExitButton=fullscreenExitButton,document.getElementById("viewover-container")),viewoverContent=(exports.viewoverContainer=viewoverContainer,document.getElementById("viewover-content")),viewoverMainContent=(exports.viewoverContent=viewoverContent,document.getElementById("viewover-main-content")),viewoverMediaWrapper=(exports.viewoverMainContent=viewoverMainContent,document.getElementById("viewover-media")),viewoverThumbnailsTrack=(exports.viewoverMediaWrapper=viewoverMediaWrapper,document.getElementById("viewover-thumbnails-track")),thumbnailsTrackHeight=(exports.viewoverThumbnailsTrack=viewoverThumbnailsTrack,"76px"),thumbnailsButtons=(exports.thumbnailsTrackHeight=thumbnailsTrackHeight,document.getElementById("thumbnails-buttons")),thumbnailsShowButton=(exports.thumbnailsButtons=thumbnailsButtons,document.getElementById("thumbnails-outlined-button")),thumbnailsHideButton=(exports.thumbnailsShowButton=thumbnailsShowButton,document.getElementById("thumbnails-filled-button")),unauthorizedError=(exports.thumbnailsHideButton=thumbnailsHideButton,Object.defineProperty(exports,"__esModule",{value:!0}),exports.unauthorizedError=void 0,new Error),dialogContent=((exports.unauthorizedError=unauthorizedError).name="Unauthorized Error",Object.defineProperty(exports,"__esModule",{value:!0}),exports.dialogContent=void 0,'\n<div id="viewover-container" class="viewover__container">\n  <div id="control-bar" class="viewover__control-bar">\n    <div\n      class="viewover__controls-buttons-wrapper viewover__controls-buttons-wrapper_type_share"\n    >\n      <div class="share-options-buttons">\n        <div>\n          <svg\n            class="svg-icon"\n            xmlns="http://www.w3.org/2000/svg"\n            height="30px"\n            width="30px"\n            viewBox="0 0 24 24"\n            fill="none"\n          >\n            <path d="M0 0h24v24H0V0z" fill="none" />\n            <path\n              d="M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-.4 4.25l-7.07 4.42c-.32.2-.74.2-1.06 0L4.4 8.25c-.25-.16-.4-.43-.4-.72 0-.67.73-1.07 1.3-.72L12 11l6.7-4.19c.57-.35 1.3.05 1.3.72 0 .29-.15.56-.4.72z"\n            />\n          </svg>\n        </div>\n        <div>\n          <svg\n            class="svg-icon"\n            xmlns="http://www.w3.org/2000/svg"\n            height="30px"\n            width="30px"\n            fill="none"\n            viewBox="0 0 512 512"\n          >\n            \x3c!--! Font Awesome Pro 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --\x3e\n            <path\n              d="M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"\n            />\n          </svg>\n        </div>\n        <div>\n          <svg\n            class="svg-icon"\n            xmlns="http://www.w3.org/2000/svg"\n            height="30px"\n            width="30px"\n            fill="none"\n            viewBox="0 0 448 512"\n          >\n            \x3c!--! Font Awesome Pro 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --\x3e\n            <path\n              d="M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"\n            />\n          </svg>\n        </div>\n      </div>\n      <button class="button share-button" id="share-button">\n        <svg\n          class="svg-icon"\n          xmlns="http://www.w3.org/2000/svg"\n          height="28px"\n          viewBox="0 0 24 24"\n          width="28px"\n        >\n          <path d="M0 0h24v24H0z" fill="none" />\n          <path\n            d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92z"\n          />\n        </svg>\n      </button>\n      <button class="button download-button" id="download-button">\n        <svg\n          class="svg-icon"\n          xmlns="http://www.w3.org/2000/svg"\n          enable-background="new 0 0 24 24"\n          height="32px"\n          viewBox="0 0 24 24"\n          width="32px"\n        >\n          <g><rect fill="none" height="24" width="24" /></g>\n          <g><path d="M5,20h14v-2H5V20z M19,9h-4V3H9v6H5l7,7L19,9z" /></g>\n        </svg>\n      </button>\n    </div>\n    <div\n      class="viewover__controls-buttons-wrapper viewover__controls-buttons-wrapper_type_interactive"\n    >\n      <div class="viewover__auto-scroll-buttons">\n        <button\n          class="button viewover__auto-scroll-button"\n          id="auto-scroll-pause-button"\n        >\n          <svg\n            class="svg-icon"\n            xmlns="http://www.w3.org/2000/svg"\n            height="32px"\n            viewBox="0 0 24 24"\n            width="32px"\n          >\n            <path d="M0 0h24v24H0z" fill="none" />\n            <path d="M6 19h4V5H6v14zm8-14v14h4V5h-4z" />\n          </svg>\n        </button>\n        <button\n          class="button viewover__auto-scroll-button button_visible"\n          id="auto-scroll-play-button"\n        >\n          <svg\n            class="svg-icon"\n            xmlns="http://www.w3.org/2000/svg"\n            height="32px"\n            viewBox="0 0 24 24"\n            width="32px"\n          >\n            <path d="M0 0h24v24H0z" fill="none" />\n            <path d="M8 5v14l11-7z" />\n          </svg>\n        </button>\n      </div>\n\n      <button\n        class="button viewover__zoom-in-button viewover__zoom-button"\n        id="zoom-in-button"\n      >\n        <svg\n          class="svg-icon"\n          xmlns="http://www.w3.org/2000/svg"\n          height="32px"\n          viewBox="0 0 24 24"\n          width="32px"\n        >\n          <path d="M0 0h24v24H0V0z" fill="none" />\n          <path\n            d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"\n          />\n          <path d="M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z" />\n        </svg>\n      </button>\n      <button\n        class="button viewover__zoom-out-button viewover__zoom-button"\n        id="zoom-out-button"\n      >\n        <svg\n          class="svg-icon"\n          xmlns="http://www.w3.org/2000/svg"\n          height="32px"\n          viewBox="0 0 24 24"\n          width="32px"\n        >\n          <path d="M0 0h24v24H0V0z" fill="none" />\n          <path\n            d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14zM7 9h5v1H7z"\n          />\n        </svg>\n      </button>\n      <div id="thumbnails-buttons" class="viewover__thumbnails-buttons">\n        <button\n          class="button viewover__thumbnails-button"\n          id="thumbnails-filled-button"\n        >\n          <svg\n            class="svg-icon viewover__thumbnails-icon"\n            xmlns="http://www.w3.org/2000/svg"\n            enable-background="new 0 0 20 20"\n            height="32px"\n            viewBox="0 0 20 20"\n            width="32px"\n          >\n            <g>\n              <rect fill="none" height="20" width="20" />\n              <path\n                d="M3,4v12h14V4H3z M16,7.67h-2.5V5H16V7.67z M13.5,8.67H16v2.67h-2.5V8.67z M4,5h8.5v10H4V5z M13.5,15v-2.67H16V15H13.5z"\n              />\n            </g>\n          </svg>\n        </button>\n        <button\n          class="button viewover__thumbnails-button"\n          id="thumbnails-outlined-button"\n        >\n          <svg\n            class="svg-icon viewover__thumbnails-icon"\n            xmlns="http://www.w3.org/2000/svg"\n            enable-background="new 0 0 20 20"\n            height="32px"\n            viewBox="0 0 20 20"\n            width="32px"\n          >\n            <g>\n              <rect fill="none" height="20" width="20" />\n              <path\n                d="M17,7.33h-3V4h3V7.33z M17,12.67h-3V16h3V12.67z M17,8.33h-3v3.33h3V8.33z M13,4H3v12h10V4z"\n              />\n            </g>\n          </svg>\n        </button>\n      </div>\n      <div id="fullscreen-buttons" class="viewover__fullscreen-buttons">\n        <button\n          class="button button_visible viewover__fullscreen-button"\n          id="fullscreen-entry-button"\n        >\n          <svg\n            class="svg-icon fullscreen-entry-icon"\n            xmlns="http://www.w3.org/2000/svg"\n            height="32px"\n            viewBox="0 0 24 24"\n            width="32px"\n            fill="none"\n          >\n            <path d="M0 0h24v24H0z" fill="none" />\n            <path\n              d="M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"\n            />\n          </svg>\n        </button>\n        <button\n          class="button button_hidden viewover__fullscreen-button"\n          id="fullscreen-exit-button"\n        >\n          <svg\n            class="svg-icon fullscreen-exit-icon"\n            xmlns="http://www.w3.org/2000/svg"\n            height="32px"\n            viewBox="0 0 24 24"\n            width="32px"\n            fill="none"\n          >\n            <path d="M0 0h24v24H0z" fill="none" />\n            <path\n              d="M5 16h3v3h2v-5H5v2zm3-8H5v2h5V5H8v3zm6 11h2v-3h3v-2h-5v5zm2-11V5h-2v5h5V8h-3z"\n            />\n          </svg>\n        </button>\n      </div>\n    </div>\n    <div\n      class="viewover__controls-buttons-wrapper viewover__controls-buttons-wrapper_type_close"\n    >\n      <button class="button viewover__close-button" id="close-button">\n        <svg\n          class="svg-icon"\n          xmlns="http://www.w3.org/2000/svg"\n          height="32px"\n          viewBox="0 0 24 24"\n          width="32px"\n          fill="#000000"\n        >\n          <path d="M0 0h24v24H0V0z" fill="none" />\n          <path\n            d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"\n          />\n        </svg>\n      </button>\n    </div>\n  </div>\n\n  <div id="viewover-content" class="viewover__content">\n    <div id="viewover-main-content" class="viewover__main-content">\n      <button\n        class="button viewover__navigate-button viewover__navigate-button_before"\n        id="nav-previous-button"\n      >\n        <svg\n          class="svg-icon svg-icon_nav"\n          xmlns="http://www.w3.org/2000/svg"\n          height="48px"\n          viewBox="0 0 24 24"\n          width="48px"\n        >\n          <path d="M0 0h24v24H0V0z" fill="none" />\n          <path d="M15.61 7.41L14.2 6l-6 6 6 6 1.41-1.41L11.03 12l4.58-4.59z" />\n        </svg>\n      </button>\n      <button\n        class="button viewover__navigate-button viewover__navigate-button_next"\n        id="nav-next-button"\n      >\n        <svg\n          class="svg-icon svg-icon_nav"\n          xmlns="http://www.w3.org/2000/svg"\n          height="48px"\n          viewBox="0 0 24 24"\n          width="48px"\n        >\n          <path d="M0 0h24v24H0V0z" fill="none" />\n          <path d="M10.02 6L8.61 7.41 13.19 12l-4.58 4.59L10.02 18l6-6-6-6z" />\n        </svg>\n      </button>\n      <div id="viewover-media" class="viewover__media"></div>\n    </div>\n    <div id="viewover-thumbnails-track" class="viewover__thumbnails-track"></div>\n  </div>\n</div>\n\n'),disableScroll=(exports.dialogContent=dialogContent,Object.defineProperty(exports,"__esModule",{value:!0}),exports.enableScroll=exports.disableScroll=void 0,function(){var e=window.pageYOffset||document.documentElement.scrollTop,t=window.pageXOffset||document.documentElement.scrollLeft;window.onscroll=function(){window.scrollTo(t,e)},document.body.style.overflow="hidden",document.body.style.maxWidth="100vw"}),enableScroll=(exports.disableScroll=disableScroll,function(){window.onscroll=function(){},document.body.style.overflow="visible",document.body.style.maxWidth="revert"});function setSettings(e){return{fullscreen:!0,thumbnails:!0,zoom:!0,styles:{controlBarHoverColor:"undefined",navHoverColor:"undefined",thumbnailBorderColor:"undefined",videoThumbnail:"undefined",mediaBorderRadius:"undefined",thumbnailBorderRadius:"undefined"}}}exports.enableScroll=enableScroll,Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=setSettings;